"use strict";(self.webpackChunkjupyter_cassini=self.webpackChunkjupyter_cassini||[]).push([[554],{7554:(e,t,r)=>{r.r(t),r.d(t,{createFinalURL:()=>w,createPathBasedClient:()=>f,createQuerySerializer:()=>y,default:()=>a,defaultBodySerializer:()=>b,defaultPathSerializer:()=>m,mergeHeaders:()=>R,randomID:()=>i,serializeArrayParam:()=>d,serializeObjectParam:()=>h,serializePrimitiveParam:()=>p,wrapAsPathBasedClient:()=>u});const n={"Content-Type":"application/json"},s=/\{[^{}]+\}/g;class o extends Request{constructor(e,t){super(e,t);for(const e in t)e in this||(this[e]=t[e])}}function i(){return Math.random().toString(36).slice(2,11)}function a(e){let{baseUrl:t="",fetch:r=globalThis.fetch,querySerializer:s,bodySerializer:a,headers:l,...c}={...e};t.endsWith("/")&&(t=t.substring(0,t.length-1)),l=R(n,l);const u=[];async function f(e,n){const{fetch:f=r,headers:p,params:h={},parseAs:d="json",querySerializer:m,bodySerializer:T=a??b,...j}=n||{};let E="function"==typeof s?s:y(s);m&&(E="function"==typeof m?m:y({..."object"==typeof s?s:{},...m}));const P={redirect:"follow",...c,...j,headers:R(l,p,h.header)};let A,S;P.body&&(P.body=T(P.body),P.body instanceof FormData&&P.headers.delete("Content-Type"));let $=new o(w(e,{baseUrl:t,params:h,querySerializer:E}),P);if(u.length){A=i(),S=Object.freeze({baseUrl:t,fetch:f,parseAs:d,querySerializer:E,bodySerializer:T});for(const t of u)if(t&&"object"==typeof t&&"function"==typeof t.onRequest){const r=await t.onRequest({request:$,schemaPath:e,params:h,options:S,id:A});if(r){if(!(r instanceof Request))throw new Error("onRequest: must return new Request() when modifying the request");$=r}}}let g=await f($);if(u.length)for(let t=u.length-1;t>=0;t--){const r=u[t];if(r&&"object"==typeof r&&"function"==typeof r.onResponse){const t=await r.onResponse({request:$,response:g,schemaPath:e,params:h,options:S,id:A});if(t){if(!(t instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");g=t}}}if(204===g.status||"0"===g.headers.get("Content-Length"))return g.ok?{data:{},response:g}:{error:{},response:g};if(g.ok)return"stream"===d?{data:g.body,response:g}:{data:await g[d](),response:g};let C=await g.text();try{C=JSON.parse(C)}catch{}return{error:C,response:g}}return{GET:(e,t)=>f(e,{...t,method:"GET"}),PUT:(e,t)=>f(e,{...t,method:"PUT"}),POST:(e,t)=>f(e,{...t,method:"POST"}),DELETE:(e,t)=>f(e,{...t,method:"DELETE"}),OPTIONS:(e,t)=>f(e,{...t,method:"OPTIONS"}),HEAD:(e,t)=>f(e,{...t,method:"HEAD"}),PATCH:(e,t)=>f(e,{...t,method:"PATCH"}),TRACE:(e,t)=>f(e,{...t,method:"TRACE"}),use(...e){for(const t of e)if(t){if("object"!=typeof t||!("onRequest"in t)&&!("onResponse"in t))throw new Error("Middleware must be an object with one of `onRequest()` or `onResponse()`");u.push(t)}},eject(...e){for(const t of e){const e=u.indexOf(t);-1!==e&&u.splice(e,1)}}}}class l{constructor(e,t){this.client=e,this.url=t}GET(e){return this.client.GET(this.url,e)}PUT(e){return this.client.PUT(this.url,e)}POST(e){return this.client.POST(this.url,e)}DELETE(e){return this.client.DELETE(this.url,e)}OPTIONS(e){return this.client.OPTIONS(this.url,e)}HEAD(e){return this.client.HEAD(this.url,e)}PATCH(e){return this.client.PATCH(this.url,e)}TRACE(e){return this.client.TRACE(this.url,e)}}class c{constructor(){this.client=null}get(e,t){const r=new l(e,t);return this.client[t]=r,r}}function u(e){const t=new c,r=new Proxy(e,t);function n(){}n.prototype=r;const s=new n;return t.client=s,s}function f(e){return u(a(e))}function p(e,t,r){if(null==t)return"";if("object"==typeof t)throw new Error("Deeply-nested arrays/objects arenâ€™t supported. Provide your own `querySerializer()` to handle these.");return`${e}=${!0===r?.allowReserved?t:encodeURIComponent(t)}`}function h(e,t,r){if(!t||"object"!=typeof t)return"";const n=[],s={simple:",",label:".",matrix:";"}[r.style]||"&";if("deepObject"!==r.style&&!1===r.explode){for(const e in t)n.push(e,!0===r.allowReserved?t[e]:encodeURIComponent(t[e]));const s=n.join(",");switch(r.style){case"form":return`${e}=${s}`;case"label":return`.${s}`;case"matrix":return`;${e}=${s}`;default:return s}}for(const s in t){const o="deepObject"===r.style?`${e}[${s}]`:s;n.push(p(o,t[s],r))}const o=n.join(s);return"label"===r.style||"matrix"===r.style?`${s}${o}`:o}function d(e,t,r){if(!Array.isArray(t))return"";if(!1===r.explode){const n={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[r.style]||",",s=(!0===r.allowReserved?t:t.map((e=>encodeURIComponent(e)))).join(n);switch(r.style){case"simple":return s;case"label":return`.${s}`;case"matrix":return`;${e}=${s}`;default:return`${e}=${s}`}}const n={simple:",",label:".",matrix:";"}[r.style]||"&",s=[];for(const n of t)"simple"===r.style||"label"===r.style?s.push(!0===r.allowReserved?n:encodeURIComponent(n)):s.push(p(e,n,r));return"label"===r.style||"matrix"===r.style?`${n}${s.join(n)}`:s.join(n)}function y(e){return function(t){const r=[];if(t&&"object"==typeof t)for(const n in t){const s=t[n];null!=s&&(Array.isArray(s)?r.push(d(n,s,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1})):"object"!=typeof s?r.push(p(n,s,e)):r.push(h(n,s,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1})))}return r.join("&")}}function m(e,t){let r=e;for(const n of e.match(s)??[]){let e=n.substring(1,n.length-1),s=!1,o="simple";if(e.endsWith("*")&&(s=!0,e=e.substring(0,e.length-1)),e.startsWith(".")?(o="label",e=e.substring(1)):e.startsWith(";")&&(o="matrix",e=e.substring(1)),!t||void 0===t[e]||null===t[e])continue;const i=t[e];r=Array.isArray(i)?r.replace(n,d(e,i,{style:o,explode:s})):"object"!=typeof i?"matrix"!==o?r.replace(n,"label"===o?`.${encodeURIComponent(i)}`:encodeURIComponent(i)):r.replace(n,`;${p(e,i)}`):r.replace(n,h(e,i,{style:o,explode:s}))}return r}function b(e){return e instanceof FormData?e:JSON.stringify(e)}function w(e,t){let r=`${t.baseUrl}${e}`;t.params?.path&&(r=m(r,t.params.path));let n=t.querySerializer(t.params.query??{});return n.startsWith("?")&&(n=n.substring(1)),n&&(r+=`?${n}`),r}function R(...e){const t=new Headers;for(const r of e){if(!r||"object"!=typeof r)continue;const e=r instanceof Headers?r.entries():Object.entries(r);for(const[r,n]of e)if(null===n)t.delete(r);else if(Array.isArray(n))for(const e of n)t.append(r,e);else void 0!==n&&t.set(r,n)}return t}}}]);