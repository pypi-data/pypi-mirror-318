import{p as R,f as Y,g as N,i as H,n as v,a5 as K,k as W,aH as E,c as w,r as q,q as T,x as O,y as i,z as d,G as a,I as J,a2 as I,ae as j,aC as S,A as r,D as m,M as V,B,J as l,aD as Q,S as k,K as u,aA as Z,ak as $,aI as x,X as G,R as D,U as ee}from"./index-B_7MB9cq.js";import{M as te,h as ie}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_f3b3d521_lang-B_xp9W-c.js";import{_ as oe}from"./ProviderIcon.vue_vue_type_script_setup_true_lang-iG77pVu5.js";import{B as ae,L as se}from"./ListItem-H6Rk1d-8.js";import{V as ne}from"./VCheckbox-_z11ltY6.js";import{g as le,u as re,e as M,f as me}from"./VMenu-BGsGFkJ9.js";import{a as ue,p as de,d as pe,r as fe,z as ce,A as ve,i as ye,w as g,V as ke}from"./VListItem-DQbKCpF1.js";import{_ as he}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z=Symbol.for("vuetify:v-item-group"),be=R({...ue(),...de({selectedClass:"v-item--selected"}),...pe(),...Y()},"VItemGroup"),ge=N()({name:"VItemGroup",props:be(),emits:{"update:modelValue":t=>!0},setup(t,y){let{slots:s}=y;const{themeClasses:o}=H(t),{isSelected:p,select:c,next:h,prev:b,selected:e}=fe(t,z);return()=>v(t.tag,{class:["v-item-group",o.value,t.class],style:t.style},{default:()=>{var n;return[(n=s.default)==null?void 0:n.call(s,{isSelected:p,select:c,next:h,prev:b,selected:e.value})]}})}}),C=N()({name:"VItem",props:ce(),emits:{"group:selected":t=>!0},setup(t,y){let{slots:s}=y;const{isSelected:o,select:p,toggle:c,selectedClass:h,value:b,disabled:e}=ve(t,z);return()=>{var n;return(n=s.default)==null?void 0:n.call(s,{isSelected:o.value,selectedClass:h.value,select:p,toggle:c,value:b.value,disabled:e.value})}}}),we=R({id:String,text:String,...K(le({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),L=N()({name:"VTooltip",props:we(),emits:{"update:modelValue":t=>!0},setup(t,y){let{slots:s}=y;const o=W(t,"modelValue"),{scopeId:p}=re(),c=E(),h=w(()=>t.id||`v-tooltip-${c}`),b=q(),e=w(()=>t.location.split(" ").length>1?t.location:t.location+" center"),n=w(()=>t.origin==="auto"||t.origin==="overlap"||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center"),f=w(()=>t.transition?t.transition:o.value?"scale-transition":"fade-transition"),U=w(()=>T({"aria-describedby":h.value},t.activatorProps));return ye(()=>{const X=M.filterProps(t);return v(M,T({ref:b,class:["v-tooltip",t.class],style:t.style,id:h.value},X,{modelValue:o.value,"onUpdate:modelValue":P=>o.value=P,transition:f.value,absolute:!0,location:e.value,origin:n.value,persistent:!0,role:"tooltip",activatorProps:U.value,_disableGlobalStack:!0},p),{activator:s.activator,default:function(){var F;for(var P=arguments.length,_=new Array(P),A=0;A<P;A++)_[A]=arguments[A];return((F=s.default)==null?void 0:F.call(s,..._))??t.text}})}),me({},b)}}),Ve=O({__name:"FavoriteButton",props:{item:{}},setup(t){const y=t;return(s,o)=>{var p;return i(),d(ae,T(y,{variant:"list",icon:(p=s.item)!=null&&p.favorite?"mdi-heart":"mdi-heart-outline",title:s.$t("tooltip.favorite"),onClick:[o[0]||(o[0]=c=>a(J).toggleFavorite(s.item)),o[1]||(o[1]=I(()=>{},["prevent"])),o[2]||(o[2]=I(()=>{},["stop"]))]}),null,16,["icon","title"])}}}),Be={key:0,class:"media-thumb listitem-media-thumb"},Ce={key:1,class:"media-thumb listitem-media-thumb"},Ie={key:0},Pe={key:1},Ae={key:0},Se={key:0,class:"line-clamp-1"},Te={key:1},$e={key:0},De={key:1},Ne={key:2},_e={key:3},Fe={key:4},Ge={key:5},Me={key:4},Le={key:5},Re={class:"text-caption",style:{"padding-right":"10px","padding-left":"10px"}},Oe=O({__name:"ListviewItem",props:{item:{},showTrackNumber:{type:Boolean,default:!0},showDiscNumber:{type:Boolean,default:!0},showPosition:{type:Boolean,default:!0},showProvider:{type:Boolean,default:!0},showAlbum:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showFavorite:{type:Boolean,default:!1},showDuration:{type:Boolean,default:!0},isSelected:{type:Boolean},isDisabled:{type:Boolean,default:!1},isAvailable:{type:Boolean,default:!0},showCheckboxes:{type:Boolean,default:!1},showDetails:{type:Boolean}},emits:["menu","click","select"],setup(t,{emit:y}){const{t:s}=j(),o=t,p=w(()=>{if(!("provider_mappings"in o.item))return"";for(const e of o.item.provider_mappings)if(e.audio_format&&e.audio_format.content_type!=null&&[S.DSF,S.FLAC,S.AIFF,S.WAV].includes(e.audio_format.content_type)&&(e.audio_format.sample_rate>48e3||e.audio_format.bit_depth>16))return`${e.audio_format.sample_rate/1e3}kHz ${e.audio_format.bit_depth} bits`;return""}),c=y,h=function(e){const n="clientX"in e?e.clientX:e.touches[0].clientX,f="clientY"in e?e.clientY:e.touches[0].clientY;c("menu",o.item,n,f)},b=function(e){o.showCheckboxes||c("click",o.item,e.clientX,e.clientY)};return(e,n)=>(i(),d(se,{link:"","show-menu-btn":e.showMenu,class:G({unavailable:!e.isAvailable}),onClick:I(b,["stop"]),onMenu:I(h,["stop"])},{prepend:r(()=>[e.showCheckboxes?(i(),m("div",Be,[v(ne,{"model-value":e.isSelected,onClick:n[0]||(n[0]=I(()=>{},["stop"])),"onUpdate:modelValue":n[1]||(n[1]=f=>{f!=null&&c("select",e.item,f)})},null,8,["model-value"])])):(i(),m("div",Ce,[v(te,{size:"50",item:e.isAvailable?e.item:void 0},null,8,["item"])]))]),title:r(()=>[e.item.media_type==a(V).FOLDER?(i(),m("span",Ie,[B("span",null,l(a(Q)(e.item,a(s))),1)])):(i(),m("span",Pe,[k(l(e.item.name)+" ",1),"version"in e.item&&e.item.version?(i(),m("span",Ae,"("+l(e.item.version)+")",1)):u("",!0)])),e.item&&e.item.metadata?(i(),d(a(L),{key:2,location:"bottom"},{activator:r(({props:f})=>[a(Z)(e.item.metadata.explicit||!1)?(i(),d(g,T({key:0},f,{icon:"mdi-alpha-e-box",width:"35"}),null,16)):u("",!0)]),default:r(()=>[B("span",null,l(e.$t("tooltip.explicit")),1)]),_:1})):u("",!0)]),subtitle:r(()=>{var f;return[e.item.media_type==a(V).TRACK&&"provider_mappings"in e.item?(i(),m("div",Se,[v(ge,null,{default:r(()=>["artists"in e.item?(i(),d(C,{key:0},{default:r(()=>[k(l(a($)(e.item.artists,2)),1)]),_:1})):u("",!0),e.showAlbum&&"album"in e.item&&e.item.album?(i(),d(C,{key:1},{default:r(()=>[k(" • "+l(e.item.album.name),1)]),_:1})):u("",!0),e.showDiscNumber&&"disc_number"in e.item&&e.item.disc_number?(i(),d(C,{key:2},{default:r(()=>[v(g,{style:{"margin-left":"5px"},icon:"md:album"}),k(" "+l(e.item.disc_number),1)]),_:1})):u("",!0),e.showTrackNumber&&"track_number"in e.item&&e.item.track_number?(i(),d(C,{key:3},{default:r(()=>[v(g,{style:{"margin-left":"5px"},icon:"mdi-music-circle-outline"}),k(" "+l(e.item.track_number),1)]),_:1})):e.showPosition&&"position"in e.item&&e.item.position?(i(),d(C,{key:4},{default:r(()=>[v(g,{style:{"margin-left":"5px"},icon:"mdi-music-circle-outline"}),k(" "+l(e.item.position),1)]),_:1})):u("",!0)]),_:1})])):e.item.media_type==a(V).ALBUM&&"year"in e.item?(i(),m("div",Te,[e.item.album_type!=a(x).UNKNOWN?(i(),m("span",$e,l(e.$t("album_type."+e.item.album_type))+" • ",1)):u("",!0),B("span",null,l(a($)(e.item.artists)),1),e.item.year?(i(),m("span",De," • "+l(e.item.year),1)):u("",!0)])):"artists"in e.item&&e.item.artists?(i(),m("div",Ne,l(a($)(e.item.artists)),1)):"owner"in e.item&&e.item.owner?(i(),m("div",_e,l(e.item.owner),1)):"metadata"in e.item&&((f=e.item.metadata)!=null&&f.description)?(i(),m("div",Fe,l(e.item.metadata.description),1)):"media_type"in e.item&&!e.item.provider_mappings?(i(),m("div",Ge,l(e.$t(e.item.media_type)),1)):u("",!0)]}),append:r(()=>[p.value?(i(),d(ke,{key:0,src:a(ie),width:"30",class:G(e.$vuetify.theme.current.dark?"hiresicondark":"hiresicon")},{default:r(()=>[v(a(L),{activator:"parent",location:"bottom"},{default:r(()=>[k(l(p.value),1)]),_:1})]),_:1},8,["src","class"])):u("",!0),a(D)("bp2")&&e.showProvider?(i(),d(oe,{key:1,domain:e.item.media_type==a(V).PLAYLIST?e.item.provider_mappings[0].provider_domain:e.item.provider,size:24},null,8,["domain"])):u("",!0),"fully_played"in e.item&&e.item.fully_played?(i(),d(g,{key:2,title:e.$t("item_fully_played")},{default:r(()=>n[2]||(n[2]=[k("mdi-check")])),_:1},8,["title"])):"resume_position_ms"in e.item&&e.item.resume_position_ms?(i(),d(g,{key:3,title:e.$t("item_in_progress")},{default:r(()=>n[3]||(n[3]=[k("mdi-clock-fast")])),_:1},8,["title"])):u("",!0),a(D)("bp3")&&"favorite"in e.item&&e.showFavorite&&!e.$vuetify.display.mobile?(i(),m("div",Me,[v(Ve,{item:e.item},null,8,["item"])])):u("",!0),e.showDuration&&e.item.media_type==a(V).TRACK&&"duration"in e.item&&e.item.duration!=null&&a(D)("bp0")?(i(),m("div",Le,[B("div",null,[B("span",Re,l(a(ee)(e.item.duration)),1)])])):u("",!0)]),_:1},8,["show-menu-btn","class"]))}}),qe=he(Oe,[["__scopeId","data-v-d1a6aea7"]]);export{qe as L,L as V,Ve as _,C as a,ge as b};
