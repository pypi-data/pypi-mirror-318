import{C as V}from"./Container-D28yS2Qt.js";import{x as _,o as P,N as h,y as i,z as y,A as r,W as M,G as p,as as $,R as B,D as c,n,B as R,J as g,Y as L,F as k,E as C,M as w,K as T,a4 as b,H as m,I as u,r as A,at as H,au as S,av as D}from"./index-B_7MB9cq.js";import{P as E}from"./PanelviewItemCompact-CAHU4dZH.js";import{c as f,s as F}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_f3b3d521_lang-B_xp9W-c.js";import{w as N,C as W}from"./VListItem-DQbKCpF1.js";import{V as O,T as z}from"./Toolbar-DU0qKW3Y.js";import{V as K}from"./VToolbar-CBkJDPkH.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VContainer-DP5sflss.js";/* empty css              */import"./VCard-B_pP5ULR.js";import"./VCardText-VTK4ABkI.js";import"./VMenu-BGsGFkJ9.js";import"./VCheckbox-_z11ltY6.js";import"./VCheckboxBtn-DIsTFzKM.js";import"./ProviderIcon.vue_vue_type_script_setup_true_lang-iG77pVu5.js";import"./VList-BrU35shR.js";import"./eventbus-CGRXT3Tn.js";const q=_({__name:"Carousel",setup(v){return P(()=>{document.documentElement.style.setProperty("--swiper-navigation-color","primary")}),(a,d)=>{const t=h("swiper");return i(),y(t,{"slides-per-view":p($)(a.$vuetify.display.width)+.5,"space-between":24,"free-mode":!0,navigation:!p(B)({breakpoint:"mobile"}),mousewheel:{forceToAxis:!0,releaseOnEdges:!0}},{default:r(()=>[M(a.$slots,"default")]),_:3},8,["slides-per-view","navigation"])}}}),G={key:0,class:"widget-row"},J={class:"mr-3"},U={key:1,class:"mr-3"},Y=_({__name:"HomeWidgetRow",props:{widgetRow:{}},setup(v){const a=function(e,o,l){const s=Array.isArray(e)?e:[e];F(s,void 0,o,l)},d=function(e,o,l){if(!f(e)){a(e,o,l);return}e.media_type==w.FOLDER?b.push({name:"browse",query:{path:e.path}}):b.push({name:e.media_type,params:{itemId:e.item_id,provider:e.provider}})},t=function(e,o,l){if(!f(e)){a(e,o,l);return}if(!m.activePlayerId){m.showPlayersMenu=!0;return}u.playMedia(e.uri,void 0)};return(e,o)=>{const l=h("swiper-slide");return e.widgetRow.items.length?(i(),c("div",G,[n(K,{class:"header",color:"transparent",style:L(e.widgetRow.path?"cursor: pointer; width: fit-content;":"width: fit-content;"),onClick:o[0]||(o[0]=s=>e.widgetRow.path?e.$router.push(e.widgetRow.path):"")},{prepend:r(()=>[n(N,{icon:e.widgetRow.icon},null,8,["icon"])]),title:r(()=>[e.widgetRow.count?(i(),y(O,{key:0,inline:"",color:"grey",content:e.widgetRow.count},{default:r(()=>[R("span",J,g(e.$t(e.widgetRow.label)),1)]),_:1},8,["content"])):(i(),c("span",U,g(e.$t(e.widgetRow.label)),1))]),_:1},8,["style"]),n(q,null,{default:r(()=>[(i(!0),c(k,null,C(e.widgetRow.items,s=>(i(),y(l,{key:s.uri},{default:r(()=>[n(E,{item:s,"permanent-overlay":![p(w).ALBUM,p(w).TRACK,p(w).RADIO].includes(s.media_type),"is-available":p(f)(s),onMenu:a,onClick:d,onPlay:t},null,8,["item","permanent-overlay","is-available"])]),_:2},1024))),128))]),_:1})])):T("",!0)}}}),j=I(Y,[["__scopeId","data-v-b13744f6"]]),Q=_({__name:"HomeWidgetRows",async setup(v){let a,d;const t=A({recently_played:{label:"recently_played",icon:"mdi-motion-play",items:[]},artists:{label:"artists",icon:"mdi-account-music",path:"/artists",items:[]},albums:{label:"albums",icon:"mdi-album",path:"/albums",items:[]},playlists:{label:"playlists",icon:"mdi-playlist-music",path:"/playlists",items:[]},tracks:{label:"tracks",icon:"mdi-file-music",path:"/tracks",items:[]},radios:{label:"radios",icon:"mdi-radio",path:"/radios",items:[]},browse:{label:"browse",icon:"mdi-folder",path:"/browse",items:[]}}),e=async function(){t.value.recently_played.items=await u.getRecentlyPlayedItems(10),t.value.artists.items=await u.getLibraryArtists(void 0,void 0,20,void 0,"random"),t.value.artists.count=m.libraryArtistsCount,t.value.albums.items=await u.getLibraryAlbums(void 0,void 0,20,void 0,"timestamp_added_desc"),t.value.albums.count=m.libraryAlbumsCount,t.value.playlists.items=await u.getLibraryPlaylists(void 0,void 0,20,void 0,"timestamp_added_desc"),t.value.playlists.count=m.libraryPlaylistsCount,t.value.radios.items=await u.getLibraryRadios(void 0,void 0,20,void 0,"timestamp_added_desc"),t.value.radios.count=m.libraryRadiosCount,t.value.tracks.items=await u.getLibraryTracks(void 0,void 0,20,void 0,"timestamp_added_desc"),t.value.tracks.count=m.libraryTracksCount};return[a,d]=H(()=>e()),await a,d(),S(()=>{e()}),(o,l)=>(i(!0),c(k,null,C(t.value,s=>(i(),c("div",{key:s.label},[n(j,{"widget-row":s},null,8,["widget-row"])]))),128))}}),X=_({__name:"HomeView",props:{player:{}},setup(v){const a=A(localStorage.getItem("frontend.settings.hide_settings")=="true");return(d,t)=>(i(),c("div",null,[n(z,{title:"Music Assistant","show-loading":!0,"menu-items":a.value?[]:[{label:"settings.settings",icon:"mdi-cog-outline",action:()=>{d.$router.push({path:"settings"})}}]},null,8,["menu-items"]),n(V,{variant:"panel"},{default:r(()=>[(i(),y(D,null,{fallback:r(()=>[n(W,{indeterminate:""})]),default:r(()=>[R("div",null,[n(Q)])]),_:1}))]),_:1})]))}}),_e=I(X,[["__scopeId","data-v-8ecfe1dc"]]);export{_e as default};
