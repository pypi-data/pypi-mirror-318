import{B as ie,L as Va}from"./ListItem-CpVWhMKp.js";import{s as ye,c as $,a as $e,o as Te,w as ee,b as Fe,C as Ia,u as He,d as xt,e as $a,p as de,m as Sa,f as Oe,g as ce,h as vt,i as et,t as J,j as yt,k as tt,r as q,l as pt,n as c,q as Y,T as Qa,F,v as Xt,x as D,y as m,z as I,A as p,B as Q,D as b,E as oe,G as e,H as a,I as P,M as pe,P as zt,$ as We,J as C,K as V,L as Ta,N as Ma,O as Ba,Q as Gt,R as j,S as R,U as Xe,V as rt,W as ut,X as Ge,Y as O,Z as Ve,_ as G,a0 as je,a1 as ve,a2 as se,a3 as Se,a4 as Ke,a5 as jt,a6 as Kt,a7 as Ea,a8 as qa,a9 as Zt,aa as za,ab as Jt,ac as La,ad as Aa,ae as Wa,af as Ra,ag as Ze,ah as at,ai as Ha,aj as Lt,ak as ea,al as ta,am as Da,an as Na,ao as At,ap as Ua,aq as Fa,ar as Oa}from"./index-BZzpipaW.js";import{D as Ya}from"./constants-BXWEQHoz.js";import{m as ft,a as ke,b as ht,c as gt,d as Me,u as _t,e as De,f as bt,g as wt,h as xa,t as Xa,i as me,V as lt,j as Ga,k as ue,l as ja,n as Ka,o as aa,p as Za,q as la,r as ia,s as Ja,v as _e,w as N,x as el,y as tl,z as al,A as ll,M as il,B as ol,C as nl}from"./VListItem-C2OBJevj.js";import{u as it,V as Je,a as Qe}from"./VList-BNjslZJ4.js";import{m as sl,u as oa,a as rl,V as kt,f as ul,b as dl,s as cl,c as ml,d as vl,e as na}from"./VMenu-NpNzdaEd.js";import{m as Pt,u as Ct,a as yl,b as pl,c as fl}from"./layout-CgoiFLjA.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{M as Ie,_ as hl,i as ot,a as sa,b as gl,g as Wt}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_f3b3d521_lang-CKhroe-Q.js";import{_ as st}from"./ProviderIcon.vue_vue_type_script_setup_true_lang-Cra-dQfP.js";import{e as we}from"./eventbus-CGRXT3Tn.js";import{T as _l,V as dt}from"./Toolbar-40W-J6dY.js";import{V as Ne}from"./VCard-Cy69XmTq.js";import{V as ra}from"./VDialog-Cp0-CJZR.js";import{V as bl,a as wl}from"./VInfiniteScroll-yN35_FaJ.js";import{V as ua}from"./VSlider-BFgpmkL6.js";import{M as le,a as ct}from"./marquee_text_sync-DRLrY7Re.js";import{V as kl}from"./VToolbar-zP5rPBtf.js";import{V as Re,a as ge}from"./VCardText-BoZHM4yp.js";import{m as Pl,V as Rt,a as Cl}from"./VCheckboxBtn-CzqKCgg1.js";import{V as Vl}from"./VVirtualScroll-DC33eaBC.js";import{V as Il}from"./VCheckbox-DGbOjerY.js";import{V as $l,a as Sl,b as Ql}from"./VExpansionPanels-Dqdh1v8_.js";const Tl=""+new URL("icon-iUF3LVzp.png",import.meta.url).href;function Ml(t){let{rootEl:l,isSticky:n,layoutItemStyles:o}=t;const s=ye(!1),i=ye(0),r=$(()=>{const u=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[u]:$e(i.value)}:{top:o.value.top}]});Te(()=>{ee(n,u=>{u?window.addEventListener("scroll",f,{passive:!0}):window.removeEventListener("scroll",f)},{immediate:!0})}),Fe(()=>{window.removeEventListener("scroll",f)});let d=0;function f(){const u=d>window.scrollY?"up":"down",h=l.value.getBoundingClientRect(),y=parseFloat(o.value.top??0),v=window.scrollY-Math.max(0,i.value-y),w=h.height+Math.max(i.value,y)-window.scrollY-window.innerHeight,_=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;h.height<window.innerHeight-y?(s.value="top",i.value=y):u==="up"&&s.value==="bottom"||u==="down"&&s.value==="top"?(i.value=window.scrollY+h.top-_,s.value=!0):u==="down"&&w<=0?(i.value=0,s.value="bottom"):u==="up"&&v<=0&&(_?s.value!=="top"&&(i.value=-v+_+y,s.value="top"):(i.value=h.top+v,s.value="top")),d=window.scrollY}return{isStuck:s,stickyStyles:r}}const Bl=100,El=20;function Ht(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function Dt(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let l=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const o=Ht(l),s=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);l+=(s-o)*Math.abs(s),n===t.length-1&&(l*=.5)}return Ht(l)*1e3}function ql(){const t={};function l(s){Array.from(s.changedTouches).forEach(i=>{(t[i.identifier]??(t[i.identifier]=new Ia(El))).push([s.timeStamp,i])})}function n(s){Array.from(s.changedTouches).forEach(i=>{delete t[i.identifier]})}function o(s){var u;const i=(u=t[s])==null?void 0:u.values().reverse();if(!i)throw new Error(`No samples for touch id ${s}`);const r=i[0],d=[],f=[];for(const h of i){if(r[0]-h[0]>Bl)break;d.push({t:h[0],d:h[1].clientX}),f.push({t:h[0],d:h[1].clientY})}return{x:Dt(d),y:Dt(f),get direction(){const{x:h,y}=this,[v,w]=[Math.abs(h),Math.abs(y)];return v>w&&h>=0?"right":v>w&&h<=0?"left":w>v&&y>=0?"down":w>v&&y<=0?"up":zl()}}}return{addMovement:l,endTouch:n,getVelocity:o}}function zl(){throw new Error}function Ll(t){let{el:l,isActive:n,isTemporary:o,width:s,touchless:i,position:r}=t;Te(()=>{window.addEventListener("touchstart",W,{passive:!0}),window.addEventListener("touchmove",H,{passive:!1}),window.addEventListener("touchend",z,{passive:!0})}),Fe(()=>{window.removeEventListener("touchstart",W),window.removeEventListener("touchmove",H),window.removeEventListener("touchend",z)});const d=$(()=>["left","right"].includes(r.value)),{addMovement:f,endTouch:u,getVelocity:h}=ql();let y=!1;const v=ye(!1),w=ye(0),_=ye(0);let B;function U(T,g){return(r.value==="left"?T:r.value==="right"?document.documentElement.clientWidth-T:r.value==="top"?T:r.value==="bottom"?document.documentElement.clientHeight-T:Ce())-(g?s.value:0)}function x(T){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const k=r.value==="left"?(T-_.value)/s.value:r.value==="right"?(document.documentElement.clientWidth-T-_.value)/s.value:r.value==="top"?(T-_.value)/s.value:r.value==="bottom"?(document.documentElement.clientHeight-T-_.value)/s.value:Ce();return g?Math.max(0,Math.min(1,k)):k}function W(T){if(i.value)return;const g=T.changedTouches[0].clientX,k=T.changedTouches[0].clientY,S=25,E=r.value==="left"?g<S:r.value==="right"?g>document.documentElement.clientWidth-S:r.value==="top"?k<S:r.value==="bottom"?k>document.documentElement.clientHeight-S:Ce(),A=n.value&&(r.value==="left"?g<s.value:r.value==="right"?g>document.documentElement.clientWidth-s.value:r.value==="top"?k<s.value:r.value==="bottom"?k>document.documentElement.clientHeight-s.value:Ce());(E||A||n.value&&o.value)&&(B=[g,k],_.value=U(d.value?g:k,n.value),w.value=x(d.value?g:k),y=_.value>-20&&_.value<80,u(T),f(T))}function H(T){const g=T.changedTouches[0].clientX,k=T.changedTouches[0].clientY;if(y){if(!T.cancelable){y=!1;return}const E=Math.abs(g-B[0]),A=Math.abs(k-B[1]);(d.value?E>A&&E>3:A>E&&A>3)?(v.value=!0,y=!1):(d.value?A:E)>3&&(y=!1)}if(!v.value)return;T.preventDefault(),f(T);const S=x(d.value?g:k,!1);w.value=Math.max(0,Math.min(1,S)),S>1?_.value=U(d.value?g:k,!0):S<0&&(_.value=U(d.value?g:k,!1))}function z(T){if(y=!1,!v.value)return;f(T),v.value=!1;const g=h(T.changedTouches[0].identifier),k=Math.abs(g.x),S=Math.abs(g.y);(d.value?k>S&&k>400:S>k&&S>3)?n.value=g.direction===({left:"right",right:"left",top:"down",bottom:"up"}[r.value]||Ce()):n.value=w.value>.5}const L=$(()=>v.value?{transform:r.value==="left"?`translateX(calc(-100% + ${w.value*s.value}px))`:r.value==="right"?`translateX(calc(100% - ${w.value*s.value}px))`:r.value==="top"?`translateY(calc(-100% + ${w.value*s.value}px))`:r.value==="bottom"?`translateY(calc(100% - ${w.value*s.value}px))`:Ce(),transition:"none"}:void 0);return He(v,()=>{var k,S;const T=((k=l.value)==null?void 0:k.style.transform)??null,g=((S=l.value)==null?void 0:S.style.transition)??null;xt(()=>{var E,A,Z,te;(A=l.value)==null||A.style.setProperty("transform",((E=L.value)==null?void 0:E.transform)||"none"),(te=l.value)==null||te.style.setProperty("transition",((Z=L.value)==null?void 0:Z.transition)||null)}),$a(()=>{var E,A;(E=l.value)==null||E.style.setProperty("transform",T),(A=l.value)==null||A.style.setProperty("transition",g)})}),{isDragging:v,dragProgress:w,dragStyles:L}}function Ce(){throw new Error}const Al=["start","end","left","right","top","bottom"],Wl=de({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Al.includes(t)},sticky:Boolean,...ft(),...ke(),...sl(),...Sa({mobile:null}),...ht(),...Pt(),...gt(),...Me({tag:"nav"}),...Oe()},"VNavigationDrawer"),da=ce()({name:"VNavigationDrawer",props:Wl(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,l){let{attrs:n,emit:o,slots:s}=l;const{isRtl:i}=vt(),{themeClasses:r}=et(t),{borderClasses:d}=_t(t),{backgroundColorClasses:f,backgroundColorStyles:u}=De(J(t,"color")),{elevationClasses:h}=bt(t),{displayClasses:y,mobile:v}=yt(t),{roundedClasses:w}=wt(t),_=xa(),B=tt(t,"modelValue",null,K=>!!K),{ssrBootStyles:U}=it(),{scopeId:x}=oa(),W=q(),H=ye(!1),{runOpenDelay:z,runCloseDelay:L}=rl(t,K=>{H.value=K}),T=$(()=>t.rail&&t.expandOnHover&&H.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),g=$(()=>Xa(t.location,i.value)),k=$(()=>t.persistent),S=$(()=>!t.permanent&&(v.value||t.temporary)),E=$(()=>t.sticky&&!S.value&&g.value!=="bottom");He(()=>t.expandOnHover&&t.rail!=null,()=>{ee(H,K=>o("update:rail",!K))}),He(()=>!t.disableResizeWatcher,()=>{ee(S,K=>!t.permanent&&Xt(()=>B.value=!K))}),He(()=>!t.disableRouteWatcher&&!!_,()=>{ee(_.currentRoute,()=>S.value&&(B.value=!1))}),ee(()=>t.permanent,K=>{K&&(B.value=!0)}),t.modelValue==null&&!S.value&&(B.value=t.permanent||!v.value);const{isDragging:A,dragProgress:Z}=Ll({el:W,isActive:B,isTemporary:S,width:T,touchless:J(t,"touchless"),position:g}),te=$(()=>{const K=S.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):T.value;return A.value?K*Z.value:K}),fe=$(()=>["top","bottom"].includes(t.location)?0:T.value),{layoutItemStyles:re,layoutItemScrimStyles:be}=Ct({id:t.name,order:$(()=>parseInt(t.order,10)),position:g,layoutSize:te,elementSize:fe,active:$(()=>B.value||A.value),disableTransitions:$(()=>A.value),absolute:$(()=>t.absolute||E.value&&typeof he.value!="string")}),{isStuck:he,stickyStyles:Ye}=Ml({rootEl:W,isSticky:E,layoutItemStyles:re}),Be=De($(()=>typeof t.scrim=="string"?t.scrim:null)),xe=$(()=>({...A.value?{opacity:Z.value*.2,transition:"none"}:void 0,...be.value}));return pt({VList:{bgColor:"transparent"}}),me(()=>{const K=s.image||t.image;return c(F,null,[c(t.tag,Y({ref:W,onMouseenter:z,onMouseleave:L,class:["v-navigation-drawer",`v-navigation-drawer--${g.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":H.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":S.value,"v-navigation-drawer--persistent":k.value,"v-navigation-drawer--active":B.value,"v-navigation-drawer--sticky":E.value},r.value,f.value,d.value,y.value,h.value,w.value,t.class],style:[u.value,re.value,U.value,Ye.value,t.style,["top","bottom"].includes(g.value)?{height:"auto"}:{}]},x,n),{default:()=>{var Ee,qe,ze;return[K&&c("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?c(Ga,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},s.image):c(lt,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),s.prepend&&c("div",{class:"v-navigation-drawer__prepend"},[(Ee=s.prepend)==null?void 0:Ee.call(s)]),c("div",{class:"v-navigation-drawer__content"},[(qe=s.default)==null?void 0:qe.call(s)]),s.append&&c("div",{class:"v-navigation-drawer__append"},[(ze=s.append)==null?void 0:ze.call(s)])]}}),c(Qa,{name:"fade-transition"},{default:()=>[S.value&&(A.value||B.value)&&!!t.scrim&&c("div",Y({class:["v-navigation-drawer__scrim",Be.backgroundColorClasses.value],style:[xe.value,Be.backgroundColorStyles.value],onClick:()=>{k.value||(B.value=!1)}},x),null)]})])}),{isStuck:he}}}),ca=function(){const t=localStorage.getItem("frontend.settings.menu_items"),l=t?t.split(","):Ya,n=[];for(const o of l)o==="home"&&n.push({label:"home",icon:"mdi-home-outline",path:"/home",isLibraryNode:!1}),o==="search"&&n.push({label:"search",icon:"mdi-magnify",path:"/search",isLibraryNode:!1}),o==="artists"&&n.push({label:"artists",icon:"mdi-account-outline",path:"/artists",isLibraryNode:!0,hidden:a.libraryArtistsCount===0}),o==="albums"&&n.push({label:"albums",icon:"mdi-album",path:"/albums",isLibraryNode:!0,hidden:a.libraryAlbumsCount===0}),o==="tracks"&&n.push({label:"tracks",icon:"mdi-music-note",path:"/tracks",isLibraryNode:!0,hidden:a.libraryTracksCount===0}),o==="playlists"&&n.push({label:"playlists",icon:"mdi-playlist-play",path:"/playlists",isLibraryNode:!0,hidden:a.libraryPlaylistsCount===0}),o==="podcasts"&&n.push({label:"podcasts",icon:"mdi-podcast",path:"/podcasts",isLibraryNode:!0,hidden:a.libraryPodcastsCount===0}),o==="audiobooks"&&n.push({label:"audiobooks",icon:"mdi-book-play-outline",path:"/audiobooks",isLibraryNode:!0,hidden:a.libraryAudiobooksCount===0}),o==="radios"&&n.push({label:"radios",icon:"mdi-access-point",path:"/radios",isLibraryNode:!0,hidden:a.libraryRadiosCount===0}),o==="browse"&&n.push({label:"browse",icon:"mdi-folder-outline",path:"/browse",isLibraryNode:!0}),o==="settings"&&n.push({label:"settings.settings",icon:"mdi-cog-outline",path:"/settings",isLibraryNode:!0});return n},Rl=D({__name:"DrawerNavigation",setup(t){const l=q(!0),n=q(!1),o=ca();return(s,i)=>(m(),I(da,{modelValue:l.value,"onUpdate:modelValue":i[1]||(i[1]=r=>l.value=r),app:"",rail:n.value,width:280},{default:p(()=>[c(ue,{style:{height:"55px"},active:!1},{prepend:p(()=>i[2]||(i[2]=[Q("img",{class:"logo_icon",size:"40",src:Tl},null,-1)])),title:p(()=>i[3]||(i[3]=[Q("div",{class:"logo_text"},"Music Assistant",-1)])),_:1}),c(Je),c(Qe,{lines:"one",density:"compact",nav:""},{default:p(()=>[(m(!0),b(F,null,oe(e(o).filter(r=>!r.hidden),r=>(m(),I(ue,{key:r.path,nav:"",density:"compact",height:15,title:s.$t(r.label),"prepend-icon":r.icon,to:r.path},null,8,["title","prepend-icon","to"]))),128))]),_:1}),c(ie,{nav:"",height:15,width:40,style:{position:"relative",float:"right",right:"10px",top:"20px"},ripple:!1,icon:n.value?"mdi-chevron-right":"mdi-chevron-left",title:s.$t("tooltip.show_menu"),onClick:i[0]||(i[0]=r=>n.value=!n.value)},null,8,["icon","title"])]),_:1},8,["modelValue","rail"]))}}),Hl=ae(Rl,[["__scopeId","data-v-8c634824"]]),Dl={class:"media-thumb"},Nl={style:{"margin-left":"-10px","padding-right":"5px"}},Ul=D({__name:"AddToPlaylistDialog",setup(t){const l=q(!1),n=q([]),o=q([]),s=q(),i=q([]);Te(()=>{we.on("playlistdialog",async h=>{l.value=!0,i.value=h.items,s.value=h.parentItem,await r()}),Fe(()=>{we.off("playlistdialog")})});const r=async function(){n.value=[],o.value=[];const h=await P.getLibraryPlaylists(),y=i.value.length?i.value[0]:void 0;for(const v of h){if(!v.provider_mappings.filter(_=>_.available).length||!v.is_editable||s.value&&s.value.media_type===pe.PLAYLIST&&v.item_id===s.value.item_id)continue;const w=P.providers[v.provider_mappings[0].provider_instance];w&&(w.domain=="builtin"||w.is_streaming_provider||y!=null&&y.provider_mappings.filter(_=>_.provider_instance==w.instance_id).length)&&n.value.push(v)}for(const v of Object.values(P.providers))v.supported_features.includes(zt.PLAYLIST_CREATE)&&v.supported_features.includes(zt.PLAYLIST_TRACKS_EDIT)&&(v.domain=="builtin"||v.is_streaming_provider||y!=null&&y.provider_mappings.filter(w=>w.provider_instance==v.instance_id).length)&&o.value.push(v.instance_id)},d=async function(h){if(i.value[0].media_type===pe.TRACK)P.addPlaylistTracks(h.item_id,i.value.map(v=>v.uri));else if(i.value[0].media_type===pe.ALBUM){var y=await P.getAlbumTracks(i.value[0].item_id,i.value[0].provider);P.addPlaylistTracks(h.item_id,y.map(v=>v.uri))}u(),a.activeAlert={type:Ta.INFO,message:We("background_task_added"),persistent:!1}},f=async function(h){const y=prompt(We("new_playlist_name"));if(!y)return;const v=await P.createPlaylist(y,h);d(v)},u=function(){l.value=!1};return(h,y)=>(m(),I(ra,{modelValue:l.value,"onUpdate:modelValue":[y[0]||(y[0]=v=>l.value=v),y[1]||(y[1]=v=>{e(a).dialogActive=v})],fullscreen:"",transition:"dialog-bottom-transition"},{default:p(()=>[c(Ne,null,{default:p(()=>[c(_l,{icon:"mdi-playlist-plus",title:e(We)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:u}]},null,8,["title","menu-items"]),c(Je),y[4]||(y[4]=Q("br",null,null,-1)),c(Qe,null,{default:p(()=>[(m(!0),b(F,null,oe(n.value,v=>(m(),b("div",{key:v.item_id},[c(ue,{onClick:w=>d(v)},{prepend:p(()=>[Q("div",Dl,[c(Ie,{item:v,size:50},null,8,["item"])])]),title:p(()=>[Q("div",null,C(v.name),1)]),subtitle:p(()=>[Q("div",null,C(v.owner),1)]),append:p(()=>[v.provider_mappings?(m(),I(st,{key:0,domain:v.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):V("",!0)]),_:2},1032,["onClick"])]))),128)),y[2]||(y[2]=Q("div",{style:{height:"30px"}},null,-1)),c(Je),y[3]||(y[3]=Q("div",{style:{height:"30px"}},null,-1)),(m(!0),b(F,null,oe(o.value,v=>(m(),b("div",{key:v},[c(ue,{onClick:w=>f(v)},{prepend:p(()=>[Q("div",Nl,[c(st,{domain:e(P).providers[v].domain,size:50},null,8,["domain"])])]),title:p(()=>[Q("div",null,C(e(We)("new_playlist")),1)]),subtitle:p(()=>[Q("div",null,C(e(We)("create_playlist_on",[e(P).providers[v].name])),1)]),append:p(()=>[c(st,{domain:e(P).providers[v].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Fl=ae(Ul,[["__scopeId","data-v-a7c53a67"]]),Ol=ae(hl,[["__scopeId","data-v-f3b3d521"]]),Yl=de({scrollable:Boolean,...ke(),...ja(),...Me({tag:"main"})},"VMain"),xl=ce()({name:"VMain",props:Yl(),setup(t,l){let{slots:n}=l;const{dimensionStyles:o}=Ka(t),{mainStyles:s}=yl(),{ssrBootStyles:i}=it();return me(()=>c(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[s.value,i.value,o.value,t.style]},{default:()=>{var r,d;return[t.scrollable?c("div",{class:"v-main__scroller"},[(r=n.default)==null?void 0:r.call(n)]):(d=n.default)==null?void 0:d.call(n)]}})),{}}}),Nt=D({__name:"View",setup(t){return(l,n)=>{const o=Ma("router-view");return m(),I(xl,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:p(()=>{var s,i,r;return[e(a).navigationMenuStyle=="vertical"?(m(),I(Hl,{key:0})):V("",!0),c(o,null,{default:p(({Component:d})=>[(m(),I(Ba(d)))]),_:1}),c(Fl),c(Ol),c(bl,{"model-value":e(a).activeAlert!==void 0,color:((s=e(a).activeAlert)==null?void 0:s.type)||"grey",text:(i=e(a).activeAlert)==null?void 0:i.message,"close-on-content-click":"",position:"sticky",timeout:(r=e(a).activeAlert)!=null&&r.persistent?-1:5e3,"z-index":"999999",style:{"z-index":"999999"},"onUpdate:modelValue":n[0]||(n[0]=()=>e(a).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}}),Xl=de({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:t=>!t||["horizontal","shift"].includes(t)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...ft(),...ke(),...aa(),...ht(),...gt(),...Pt({name:"bottom-navigation"}),...Me({tag:"header"}),...Za({selectedClass:"v-btn--selected"}),...Oe()},"VBottomNavigation"),Gl=ce()({name:"VBottomNavigation",props:Xl(),emits:{"update:active":t=>!0,"update:modelValue":t=>!0},setup(t,l){let{slots:n}=l;const{themeClasses:o}=Gt(),{borderClasses:s}=_t(t),{backgroundColorClasses:i,backgroundColorStyles:r}=De(J(t,"bgColor")),{densityClasses:d}=la(t),{elevationClasses:f}=bt(t),{roundedClasses:u}=wt(t),{ssrBootStyles:h}=it(),y=$(()=>Number(t.height)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0)),v=tt(t,"active",t.active),{layoutItemStyles:w}=Ct({id:t.name,order:$(()=>parseInt(t.order,10)),position:$(()=>"bottom"),layoutSize:$(()=>v.value?y.value:0),elementSize:y,active:v,absolute:J(t,"absolute")});return ia(t,Ja),pt({VBtn:{baseColor:J(t,"baseColor"),color:J(t,"color"),density:J(t,"density"),stacked:$(()=>t.mode!=="horizontal"),variant:"text"}},{scoped:!0}),me(()=>c(t.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":v.value,"v-bottom-navigation--grow":t.grow,"v-bottom-navigation--shift":t.mode==="shift"},o.value,i.value,s.value,d.value,f.value,u.value,t.class],style:[r.value,w.value,{height:$e(y.value)},h.value,t.style]},{default:()=>[n.default&&c("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),jl={class:"menuButton"},Kl={class:"menuButton"},Zl={class:"menuButton"},Jl=D({__name:"BottomNavigation",props:{height:{}},setup(t){const l=ca(),n=q(!1);return(o,s)=>(m(),I(Gl,{height:o.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"},role:"navigation"},{default:p(()=>[e(j)("tablet")?(m(!0),b(F,{key:0},oe(e(l),i=>(m(),I(_e,{key:i.label,to:i.path,"aria-label":o.$t(i.label),tabindex:"0"},{default:p(()=>[c(N,{size:"xx-large"},{default:p(()=>[R(C(i.icon),1)]),_:2},1024),Q("span",jl,C(o.$t(i.label)),1)]),_:2},1032,["to","aria-label"]))),128)):(m(),b(F,{key:1},[(m(!0),b(F,null,oe(e(l).filter(i=>!i.isLibraryNode),i=>(m(),I(_e,{key:i.label,to:i.path,"aria-label":o.$t(i.label),tabindex:"0"},{default:p(()=>[c(N,{size:"xx-large"},{default:p(()=>[R(C(i.icon),1)]),_:2},1024),Q("span",Kl,C(o.$t(i.label)),1)]),_:2},1032,["to","aria-label"]))),128)),c(kt,null,{activator:p(({props:i})=>[c(_e,Y(i,{"aria-haspopup":"true","aria-expanded":n.value.toString(),"aria-label":"Open library menu"}),{default:p(()=>[c(N,{size:"xx-large"},{default:p(()=>s[0]||(s[0]=[R("mdi-bookshelf")])),_:1}),Q("span",Zl,C(o.$t("library")),1)]),_:2},1040,["aria-expanded"])]),default:p(()=>[c(Qe,null,{default:p(()=>[(m(!0),b(F,null,oe(e(l).filter(i=>i.isLibraryNode),i=>(m(),I(ue,{key:i.label,title:o.$t(i.label),"prepend-icon":i.icon,to:i.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})],64))]),_:1},8,["height"]))}}),ei=ae(Jl,[["__scopeId","data-v-5c8e33d1"]]),ti={style:{width:"auto"}},ai={key:0,style:{width:"100%"}},li={key:0,class:"time-text-row"},ii={class:"text-caption time-text-right"},oi=D({__name:"PlayerTimeline",props:{showLabels:{type:Boolean,default:!1}},setup(t){const l=q(!1),n=q(!0),o=q(!1),s=q(0),i=q(0),r=$(()=>a.curQueueItem?l.value?`-${Xe(a.curQueueItem.duration-f.value)}`:`${Xe(f.value)}`:"0:00"),d=$(()=>{var v;if(!a.curQueueItem||!a.curQueueItem.duration||((v=a.curQueueItem.media_item)==null?void 0:v.media_type)==pe.RADIO)return"";const y=a.curQueueItem.duration;return Xe(y)}),f=$(()=>o.value?(i.value=s.value,s.value):a.activePlayerQueue?a.activePlayerQueue.elapsed_time:0);ee(f,y=>{o.value||(s.value=y)});const u=function(){o.value=!0},h=()=>{o.value=!1,!o.value&&a.activePlayer&&P.playerCommandSeek(a.activePlayer.player_id,Math.round(i.value))};return(y,v)=>{var w;return m(),b("div",ti,[e(a).activePlayerQueue?(m(),b("div",ai,[c(ua,{modelValue:s.value,"onUpdate:modelValue":v[0]||(v[0]=_=>s.value=_),disabled:!e(a).curQueueItem||!e(a).curQueueItem.media_item||((w=e(a).curQueueItem.media_item)==null?void 0:w.media_type)!=e(pe).TRACK,style:{width:"100%"},min:0,max:e(a).curQueueItem&&e(a).curQueueItem.duration,"hide-details":"","track-size":2,"thumb-size":n.value?0:10,onTouchstart:v[1]||(v[1]=_=>n.value=!1),onTouchend:v[2]||(v[2]=_=>n.value=!0),onMouseenter:v[3]||(v[3]=_=>n.value=!1),onMouseleave:v[4]||(v[4]=_=>n.value=!0),onStart:u,onEnd:h},null,8,["modelValue","disabled","max","thumb-size"]),y.showLabels?(m(),b("div",li,[Q("div",{class:"text-caption time-text-left",onClick:v[5]||(v[5]=_=>l.value?l.value=!1:l.value=!0)},C(r.value),1),Q("div",ii,C(d.value),1)])):V("",!0)])):V("",!0)])}}}),ma=ae(oi,[["__scopeId","data-v-e32beba8"]]),ni=D({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},emits:["click"],setup(t,{emit:l}){const n=()=>{if(o.value){const i=o.value.offsetWidth,r=o.value.offsetHeight,d=Math.min(i,r);s.value.$el.style.fontSize=`${d}px`}},o=q(),s=q();return Te(()=>{n(),window.addEventListener("resize",n)}),Fe(()=>{window.removeEventListener("resize",n)}),(i,r)=>(m(),b("div",{ref_key:"responsiveIconHolder",ref:o,class:Ge([i.type=="btn"&&!i.disabled?"responsive-icon-holder-btn":"responsive-icon-holder"]),style:O({width:i.staticWidth?i.staticWidth:i.width,height:i.staticWidth?i.staticWidth:i.height,maxHeight:i.staticHeight?i.staticHeight:i.maxHeight,maxWidth:i.staticWidth?i.staticWidth:i.maxWidth,minHeight:i.staticHeight?i.staticHeight:i.minHeight,minWidth:i.staticWidth?i.staticWidth:i.minWidth}),onClick:r[0]||(r[0]=d=>i.disabled?d.preventDefault():i.$emit("click",d))},[c(dt,{"model-value":i.badge==!0,color:"error",dot:""},{default:p(()=>[i.type==="icon"?(m(),I(N,{key:0,ref_key:"responsiveIcon",ref:s,class:"responsive-icon",color:i.color?i.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null,disabled:i.disabled},rt({_:2},[oe(i.$slots,(d,f)=>({name:f,fn:p(()=>[ut(i.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):i.type==="btn"?(m(),I(N,{key:1,ref_key:"responsiveIcon",ref:s,class:"responsive-icon",style:{cursor:"pointer"},color:i.color?i.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null,disabled:i.disabled},rt({_:2},[oe(i.$slots,(d,f)=>({name:f,fn:p(()=>[ut(i.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):V("",!0)]),_:3},8,["model-value"])],6))}}),Pe=ae(ni,[["__scopeId","data-v-2c9253ab"]]),va=D({__name:"RepeatBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(t){return(l,n)=>{var o,s;return l.isVisible&&l.playerQueue?(m(),I(Pe,Y({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Ve)((o=l.icon)==null?void 0:o.color,[[l.playerQueue.repeat_mode==e(G).OFF,null],[l.playerQueue.repeat_mode==e(G).ALL,"primary"],[l.playerQueue.repeat_mode==e(G).ONE,"primary"]]),icon:e(Ve)((s=l.icon)==null?void 0:s.icon,[[l.playerQueue.repeat_mode==e(G).OFF,"mdi-repeat-off"],[l.playerQueue.repeat_mode==e(G).ALL,"mdi-repeat"],[l.playerQueue.repeat_mode==e(G).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClick:n[0]||(n[0]=i=>e(P).queueCommandRepeat(l.playerQueue.queue_id||"",e(Ve)(null,[[l.playerQueue.repeat_mode==e(G).OFF,e(G).ONE],[l.playerQueue.repeat_mode==e(G).ALL,e(G).OFF],[l.playerQueue.repeat_mode==e(G).ONE,e(G).ALL]])))}),null,16,["disabled","color","icon"])):V("",!0)}}}),ya=D({__name:"ShuffleBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(t){return(l,n)=>{var o,s;return l.isVisible&&l.playerQueue?(m(),I(Pe,Y({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Ve)((o=l.icon)==null?void 0:o.color,[[l.playerQueue.shuffle_enabled,"primary",""]]),icon:e(Ve)((s=l.icon)==null?void 0:s.icon,[[l.playerQueue.shuffle_enabled,"mdi-shuffle"],[l.playerQueue.shuffle_enabled==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClick:n[0]||(n[0]=i=>e(P).queueCommandShuffle(l.playerQueue.queue_id,!l.playerQueue.shuffle_enabled))}),null,16,["disabled","color","icon"])):V("",!0)}}}),Vt=D({__name:"PlayBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0},iconStyle:{default:"circle"}},setup(t){const l=t,n=$(()=>l.playerQueue?l.playerQueue.items>0:!1),o=$(()=>{var i;return!(!l.player||(i=l.playerQueue)!=null&&i.active||!l.player.current_media)}),s=$(()=>{var i;return((i=l.player)==null?void 0:i.state)==je.PLAYING?"mdi-pause":"mdi-play"});return(i,r)=>i.isVisible&&i.player?(m(),I(Pe,Y({key:0},i.icon,{disabled:!n.value&&!o.value,icon:i.iconStyle?`${s.value}-${i.iconStyle}`:s.value,type:"btn",onClick:r[0]||(r[0]=d=>e(P).playerCommandPlayPause(i.player.player_id))}),null,16,["disabled","icon"])):V("",!0)}}),pa=D({__name:"PreviousBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(t){const l=t,n=$(()=>{var s,i;return!((s=l.playerQueue)!=null&&s.active)||!((i=l.playerQueue)!=null&&i.items)||!l.playerQueue.current_index?!1:l.playerQueue.current_index>0}),o=$(()=>{var s;return!l.player||(s=l.playerQueue)!=null&&s.active||!l.player.current_media?!1:l.player.supported_features.includes(ve.NEXT_PREVIOUS)});return(s,i)=>s.isVisible&&s.player?(m(),I(Pe,Y({key:0},s.icon,{disabled:!n.value&&!o.value,icon:"mdi-skip-previous-outline",type:"btn",onClick:i[0]||(i[0]=r=>e(P).playerCommandPrevious(s.player.player_id))}),null,16,["disabled"])):V("",!0)}}),fa=D({__name:"NextBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(t){const l=t,n=$(()=>{var s;return(s=l.playerQueue)!=null&&s.active?(l.playerQueue.current_index||0)<l.playerQueue.items-1:!1}),o=$(()=>{var s;return!l.player||(s=l.playerQueue)!=null&&s.active||!l.player.current_media?!1:l.player.supported_features.includes(ve.NEXT_PREVIOUS)});return(s,i)=>s.isVisible&&s.player?(m(),I(Pe,Y({key:0},s.icon,{disabled:!n.value&&!o.value,icon:"mdi-skip-next-outline",type:"btn",onClick:i[0]||(i[0]=r=>e(P).playerCommandNext(s.player.player_id))}),null,16,["disabled"])):V("",!0)}}),si={key:0,class:"player-controls"},ri={key:0,class:"player-controls-elements"},ui={key:1,class:"player-controls-elements"},di={key:2},ci={key:3,class:"player-controls-elements"},mi={key:4,class:"player-controls-elements"},Ut=D({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(t){return(l,n)=>{var o,s,i,r,d;return l.visibleComponents?(m(),b("div",si,[l.visibleComponents&&((o=l.visibleComponents.shuffle)!=null&&o.isVisible)?(m(),b("div",ri,[c(ya,{"player-queue":e(a).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.shuffle.icon},null,8,["player-queue","icon"])])):V("",!0),l.visibleComponents&&((s=l.visibleComponents.previous)!=null&&s.isVisible)?(m(),b("div",ui,[c(pa,{player:e(a).activePlayer,"player-queue":e(a).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.previous.icon},null,8,["player","player-queue","icon"])])):V("",!0),l.visibleComponents&&((i=l.visibleComponents.play)!=null&&i.isVisible)?(m(),b("div",di,[c(Vt,{player:e(a).activePlayer,"player-queue":e(a).activePlayerQueue,class:"media-controls-item","icon-style":l.visibleComponents.play.withCircle?"circle":"",icon:l.visibleComponents.play.icon},null,8,["player","player-queue","icon-style","icon"])])):V("",!0),l.visibleComponents&&((r=l.visibleComponents.next)!=null&&r.isVisible)?(m(),b("div",ci,[c(fa,{player:e(a).activePlayer,"player-queue":e(a).activePlayerQueue,icon:l.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["player","player-queue","icon"])])):V("",!0),l.visibleComponents&&((d=l.visibleComponents.repeat)!=null&&d.isVisible)?(m(),b("div",mi,[c(va,{"player-queue":e(a).activePlayerQueue,icon:l.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["player-queue","icon"])])):V("",!0)])):V("",!0)}}}),vi={props:{width:String,height:String,style:String,isPowered:Boolean,allowWheel:Boolean},emits:["update:model-value"],setup(t,l){const n=q(!0),o=$(()=>({class:"player-volume",hideDetails:!0,trackSize:2,thumbSize:n.value?0:10,step:2,elevation:0,style:`width: ${t.width}; height:${t.height}; display: inline-grid; ${t.style}`,disabled:!t.isPowered})),s=$(()=>({...o.value,...l}));return{isThumbHidden:n,playerVolumeProps:s,onWheel:({deltaY:r})=>{if(!t.allowWheel)return;const d=s.value.step,f=l.attrs["model-value"],u=r<0?d:-d;l.emit("update:model-value",f+u)}}}};function yi(t,l,n,o,s,i){return m(),I(ua,Y(o.playerVolumeProps,{onTouchstart:l[0]||(l[0]=r=>o.isThumbHidden=!1),onTouchend:l[1]||(l[1]=r=>o.isThumbHidden=!0),onMouseenter:l[2]||(l[2]=r=>o.isThumbHidden=!1),onMouseleave:l[3]||(l[3]=r=>o.isThumbHidden=!0),onWheel:se(o.onWheel,["prevent"]),onEnd:l[4]||(l[4]=r=>t.$emit("update:model-value",r))}),rt({_:2},[oe(t.$slots,(r,d)=>({name:d,fn:p(()=>[ut(t.$slots,d,{},void 0,!0)])}))]),1040,["onWheel"])}const Ue=ae(vi,[["render",yi],["__scopeId","data-v-e5af1148"]]),ha=D({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(t){const l=function(){a.showFullscreenPlayer&&a.showQueueItems?a.showQueueItems=!1:a.showFullscreenPlayer&&!a.showQueueItems?a.showQueueItems=!0:(a.showQueueItems=!0,a.showFullscreenPlayer=!0)};return(n,o)=>{var s;return n.isVisible?(m(),I(Pe,Y({key:0},n.icon,{disabled:!e(a).activePlayerId||e(a).showFullscreenPlayer&&!e(a).curQueueItem&&!e(a).showQueueItems,icon:"mdi-playlist-play",color:e(Ve)((s=n.icon)==null?void 0:s.color,[[e(a).showFullscreenPlayer&&e(a).showQueueItems,"primary",""]]),type:"btn",onClick:l}),null,16,["disabled","color"])):V("",!0)}}}),ga=(t,l)=>{const n=[{label:t.powered?"power_off_player":"power_on_player",labelArgs:[],action:()=>{P.playerCommandPowerToggle(t.player_id)},icon:"mdi-power"}],o=Object.values(P.players).filter(s=>s.player_id!=t.player_id&&s.available&&s.enabled&&s.provider==t.provider&&s.supported_features.includes(ve.SET_MEMBERS)&&!s.synced_to);return t.supported_features.includes(ve.SET_MEMBERS)&&!t.synced_to&&t.type==Se.PLAYER&&t.group_childs.length==0&&o.length>0&&n.push({label:"sync_player_with",labelArgs:[],icon:"mdi-link-variant",subItems:o.map(s=>({label:s.display_name,labelArgs:[],action:()=>{P.playerCommandGroup(t.player_id,s.player_id)}})).sort((s,i)=>{var r;return s.label.toUpperCase()>((r=i.label)==null?void 0:r.toUpperCase())?1:-1})}),l&&n.push({label:l.shuffle_enabled?"shuffle_disable":"shuffle_enable",labelArgs:[],action:()=>{P.queueCommandShuffleToggle(l.queue_id)},icon:l.shuffle_enabled?"mdi-shuffle-disabled":"mdi-shuffle"}),l&&n.push({label:"select_repeat_mode",labelArgs:[],subItems:[{label:"repeat_mode.off",labelArgs:[],action:()=>{P.queueCommandRepeat(l.queue_id,G.OFF)},selected:l.repeat_mode==G.OFF},{label:"repeat_mode.all",labelArgs:[],action:()=>{P.queueCommandRepeat(l.queue_id,G.ALL)},selected:l.repeat_mode==G.ALL},{label:"repeat_mode.one",labelArgs:[],action:()=>{P.queueCommandRepeat(l.queue_id,G.ONE)},selected:l.repeat_mode==G.ONE}],icon:"mdi-repeat"}),l!=null&&l.items&&n.push({label:"transfer_queue",icon:"mdi-swap-horizontal",subItems:Object.values(P.players).filter(s=>s.player_id!=l.queue_id&&s.player_id!=t.player_id&&s.available&&s.enabled&&!s.synced_to).map(s=>({label:s.display_name,labelArgs:[],action:()=>{P.queueCommandTransfer(l.queue_id,s.player_id),a.activePlayerId=s.player_id}})).sort((s,i)=>{var r;return s.label.toUpperCase()>((r=i.label)==null?void 0:r.toUpperCase())?1:-1})}),l!=null&&l.items&&n.push({label:"queue_clear",labelArgs:[],action:()=>{P.queueCommandClear(l.queue_id)},icon:"mdi-cancel"}),l&&"dont_stop_the_music_enabled"in l&&n.push({label:l.dont_stop_the_music_enabled?"dont_stop_the_music_disable":"dont_stop_the_music_enable",labelArgs:[],action:()=>{P.queueCommandDontStopTheMusicToggle(l.queue_id)},icon:"mdi-all-inclusive"}),n.push({label:"open_player_settings",labelArgs:[],action:()=>{a.showFullscreenPlayer=!1,a.showPlayersMenu=!1,Ke.push(`/settings/editplayer/${t.player_id}`)},icon:"mdi-cog-outline"}),n.push({label:"open_dsp_settings",labelArgs:[],action:()=>{a.showFullscreenPlayer=!1,a.showPlayersMenu=!1,Ke.push(`/settings/editplayer/${t.player_id}/dsp`)},icon:"mdi-equalizer"}),n},It=Symbol.for("vuetify:v-tabs"),pi=de({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...jt(el({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),mt=ce()({name:"VTab",props:pi(),setup(t,l){let{slots:n,attrs:o}=l;const{textColorClasses:s,textColorStyles:i}=tl(t,"sliderColor"),r=q(),d=q(),f=$(()=>t.direction==="horizontal"),u=$(()=>{var y,v;return((v=(y=r.value)==null?void 0:y.group)==null?void 0:v.isSelected.value)??!1});function h(y){var w,_;let{value:v}=y;if(v){const B=(_=(w=r.value)==null?void 0:w.$el.parentElement)==null?void 0:_.querySelector(".v-tab--selected .v-tab__slider"),U=d.value;if(!B||!U)return;const x=getComputedStyle(B).color,W=B.getBoundingClientRect(),H=U.getBoundingClientRect(),z=f.value?"x":"y",L=f.value?"X":"Y",T=f.value?"right":"bottom",g=f.value?"width":"height",k=W[z],S=H[z],E=k>S?W[T]-H[T]:W[z]-H[z],A=Math.sign(E)>0?f.value?"right":"bottom":Math.sign(E)<0?f.value?"left":"top":"center",te=(Math.abs(E)+(Math.sign(E)<0?W[g]:H[g]))/Math.max(W[g],H[g])||0,fe=W[g]/H[g]||0,re=1.5;dl(U,{backgroundColor:[x,"currentcolor"],transform:[`translate${L}(${E}px) scale${L}(${fe})`,`translate${L}(${E/re}px) scale${L}(${(te-1)/re+1})`,"none"],transformOrigin:Array(3).fill(A)},{duration:225,easing:cl})}}return me(()=>{const y=_e.filterProps(t);return c(_e,Y({symbol:It,ref:r,class:["v-tab",t.class],style:t.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},y,o,{block:t.fixed,maxWidth:t.fixed?300:void 0,"onGroup:selected":h}),{...n,default:()=>{var v;return c(F,null,[((v=n.default)==null?void 0:v.call(n))??t.text,!t.hideSlider&&c("div",{ref:d,class:["v-tab__slider",s.value],style:i.value},null)])}})}),ul({},r)}}),fi=t=>{const{touchstartX:l,touchendX:n,touchstartY:o,touchendY:s}=t,i=.5,r=16;t.offsetX=n-l,t.offsetY=s-o,Math.abs(t.offsetY)<i*Math.abs(t.offsetX)&&(t.left&&n<l-r&&t.left(t),t.right&&n>l+r&&t.right(t)),Math.abs(t.offsetX)<i*Math.abs(t.offsetY)&&(t.up&&s<o-r&&t.up(t),t.down&&s>o+r&&t.down(t))};function hi(t,l){var o;const n=t.changedTouches[0];l.touchstartX=n.clientX,l.touchstartY=n.clientY,(o=l.start)==null||o.call(l,{originalEvent:t,...l})}function gi(t,l){var o;const n=t.changedTouches[0];l.touchendX=n.clientX,l.touchendY=n.clientY,(o=l.end)==null||o.call(l,{originalEvent:t,...l}),fi(l)}function _i(t,l){var o;const n=t.changedTouches[0];l.touchmoveX=n.clientX,l.touchmoveY=n.clientY,(o=l.move)==null||o.call(l,{originalEvent:t,...l})}function bi(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>hi(n,l),touchend:n=>gi(n,l),touchmove:n=>_i(n,l)}}function wi(t,l){var d;const n=l.value,o=n!=null&&n.parent?t.parentElement:t,s=(n==null?void 0:n.options)??{passive:!0},i=(d=l.instance)==null?void 0:d.$.uid;if(!o||!i)return;const r=bi(l.value);o._touchHandlers=o._touchHandlers??Object.create(null),o._touchHandlers[i]=r,Kt(r).forEach(f=>{o.addEventListener(f,r[f],s)})}function ki(t,l){var i,r;const n=(i=l.value)!=null&&i.parent?t.parentElement:t,o=(r=l.instance)==null?void 0:r.$.uid;if(!(n!=null&&n._touchHandlers)||!o)return;const s=n._touchHandlers[o];Kt(s).forEach(d=>{n.removeEventListener(d,s[d])}),delete n._touchHandlers[o]}const _a={mounted:wi,unmounted:ki},ba=Symbol.for("vuetify:v-window"),wa=Symbol.for("vuetify:v-window-group"),ka=de({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...ke(),...Me(),...Oe()},"VWindow"),Ft=ce()({name:"VWindow",directives:{Touch:_a},props:ka(),emits:{"update:modelValue":t=>!0},setup(t,l){let{slots:n}=l;const{themeClasses:o}=et(t),{isRtl:s}=vt(),{t:i}=Ea(),r=ia(t,wa),d=q(),f=$(()=>s.value?!t.reverse:t.reverse),u=ye(!1),h=$(()=>{const z=t.direction==="vertical"?"y":"x",T=(f.value?!u.value:u.value)?"-reverse":"";return`v-window-${z}${T}-transition`}),y=ye(0),v=q(void 0),w=$(()=>r.items.value.findIndex(z=>r.selected.value.includes(z.id)));ee(w,(z,L)=>{const T=r.items.value.length,g=T-1;T<=2?u.value=z<L:z===g&&L===0?u.value=!0:z===0&&L===g?u.value=!1:u.value=z<L}),qa(ba,{transition:h,isReversed:u,transitionCount:y,transitionHeight:v,rootRef:d});const _=$(()=>t.continuous||w.value!==0),B=$(()=>t.continuous||w.value!==r.items.value.length-1);function U(){_.value&&r.prev()}function x(){B.value&&r.next()}const W=$(()=>{const z=[],L={icon:s.value?t.nextIcon:t.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:r.prev,"aria-label":i("$vuetify.carousel.prev")};z.push(_.value?n.prev?n.prev({props:L}):c(_e,L,null):c("div",null,null));const T={icon:s.value?t.prevIcon:t.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:r.next,"aria-label":i("$vuetify.carousel.next")};return z.push(B.value?n.next?n.next({props:T}):c(_e,T,null):c("div",null,null)),z}),H=$(()=>t.touch===!1?t.touch:{...{left:()=>{f.value?U():x()},right:()=>{f.value?x():U()},start:L=>{let{originalEvent:T}=L;T.stopPropagation()}},...t.touch===!0?{}:t.touch});return me(()=>Zt(c(t.tag,{ref:d,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},o.value,t.class],style:t.style},{default:()=>{var z,L;return[c("div",{class:"v-window__container",style:{height:v.value}},[(z=n.default)==null?void 0:z.call(n,{group:r}),t.showArrows!==!1&&c("div",{class:"v-window__controls"},[W.value])]),(L=n.additional)==null?void 0:L.call(n,{group:r})]}}),[[za("touch"),H.value]])),{group:r}}}),Pi=de({...jt(ka(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Ci=ce()({name:"VTabsWindow",props:Pi(),emits:{"update:modelValue":t=>!0},setup(t,l){let{slots:n}=l;const o=Jt(It,null),s=tt(t,"modelValue"),i=$({get(){var r;return s.value!=null||!o?s.value:(r=o.items.value.find(d=>o.selected.value.includes(d.id)))==null?void 0:r.value},set(r){s.value=r}});return me(()=>{const r=Ft.filterProps(t);return c(Ft,Y({_as:"VTabsWindow"},r,{modelValue:i.value,"onUpdate:modelValue":d=>i.value=d,class:["v-tabs-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),Pa=de({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ke(),...al(),...ml()},"VWindowItem"),Ot=ce()({name:"VWindowItem",directives:{Touch:_a},props:Pa(),emits:{"group:selected":t=>!0},setup(t,l){let{slots:n}=l;const o=Jt(ba),s=ll(t,wa),{isBooted:i}=it();if(!o||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const r=ye(!1),d=$(()=>i.value&&(o.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function f(){!r.value||!o||(r.value=!1,o.transitionCount.value>0&&(o.transitionCount.value-=1,o.transitionCount.value===0&&(o.transitionHeight.value=void 0)))}function u(){var _;r.value||!o||(r.value=!0,o.transitionCount.value===0&&(o.transitionHeight.value=$e((_=o.rootRef.value)==null?void 0:_.clientHeight)),o.transitionCount.value+=1)}function h(){f()}function y(_){r.value&&Xt(()=>{!d.value||!r.value||!o||(o.transitionHeight.value=$e(_.clientHeight))})}const v=$(()=>{const _=o.isReversed.value?t.reverseTransition:t.transition;return d.value?{name:typeof _!="string"?o.transition.value:_,onBeforeEnter:u,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:u,onAfterLeave:f,onLeaveCancelled:h,onEnter:y}:!1}),{hasContent:w}=vl(t,s.isSelected);return me(()=>c(il,{transition:v.value,disabled:!i.value},{default:()=>{var _;return[Zt(c("div",{class:["v-window-item",s.selectedClass.value,t.class],style:t.style},[w.value&&((_=n.default)==null?void 0:_.call(n))]),[[La,s.isSelected.value]])]}})),{groupItem:s}}}),Vi=de({...Pa()},"VTabsWindowItem"),Ii=ce()({name:"VTabsWindowItem",props:Vi(),setup(t,l){let{slots:n}=l;return me(()=>{const o=Ot.filterProps(t);return c(Ot,Y({_as:"VTabsWindowItem"},o,{class:["v-tabs-window-item",t.class],style:t.style}),n)}),{}}});function $i(t){return t?t.map(l=>Aa(l)?l:{text:l,value:l}):[]}const Si=de({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Pl({mandatory:"force",selectedClass:"v-tab-item--selected"}),...aa(),...Me()},"VTabs"),Qi=ce()({name:"VTabs",props:Si(),emits:{"update:modelValue":t=>!0},setup(t,l){let{attrs:n,slots:o}=l;const s=tt(t,"modelValue"),i=$(()=>$i(t.items)),{densityClasses:r}=la(t),{backgroundColorClasses:d,backgroundColorStyles:f}=De(J(t,"bgColor")),{scopeId:u}=oa();return pt({VTab:{color:J(t,"color"),direction:J(t,"direction"),stacked:J(t,"stacked"),fixed:J(t,"fixedTabs"),sliderColor:J(t,"sliderColor"),hideSlider:J(t,"hideSlider")}}),me(()=>{const h=Rt.filterProps(t),y=!!(o.window||t.items.length>0);return c(F,null,[c(Rt,Y(h,{modelValue:s.value,"onUpdate:modelValue":v=>s.value=v,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},r.value,d.value,t.class],style:[{"--v-tabs-height":$e(t.height)},f.value,t.style],role:"tablist",symbol:It},u,n),{default:()=>{var v;return[((v=o.default)==null?void 0:v.call(o))??i.value.map(w=>{var _;return((_=o.tab)==null?void 0:_.call(o,{item:w}))??c(mt,Y(w,{key:w.text,value:w.value}),{default:o[`tab.${w.value}`]?()=>{var B;return(B=o[`tab.${w.value}`])==null?void 0:B.call(o,{item:w})}:void 0})})]}}),y&&c(Ci,Y({modelValue:s.value,"onUpdate:modelValue":v=>s.value=v,key:"tabs-window"},u),{default:()=>{var v;return[i.value.map(w=>{var _;return((_=o.item)==null?void 0:_.call(o,{item:w}))??c(Ii,{value:w.value},{default:()=>{var B;return(B=o[`item.${w.value}`])==null?void 0:B.call(o,{item:w})}})}),(v=o.window)==null?void 0:v.call(o)]}})])}),{}}}),Ti=["onClick"],Mi={class:"main"},Bi={key:0,class:"main-media-details"},Ei={key:0,class:"main-media-details-image"},qi={class:"main-media-details-track-info"},zi={key:0},Li={key:0},Ai={style:{margin:"auto","padding-top":"20px"}},Wi={key:1,class:"main-queue-items"},Ri={class:"queue-items-scroll-box"},Hi={class:"media-thumb listitem-media-thumb"},Di={class:"d-flex"},Ni={style:{"white-space":"nowrap"},class:"pr-1"},Ui={key:0},Fi={key:2,class:"main-queue-items"},Oi={class:"main-media-details-image main-media-details-image-alt"},Yi={class:"player-bottom"},xi={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},Xi={class:"media-controls"},Gi={key:0,class:"row",style:{"margin-left":"5%","margin-right":"5%"}},ji={key:1,class:"row",style:{height:"70px",display:"flex","justify-content":"center","align-items":"center","padding-bottom":"15px","padding-top":"15px"}},Ki=D({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(t){Wa();const{name:l}=yt(),n=t,o=new ct,s=q(-1),i=new ct,r=q([]),d=q(""),f=q(0),u=q(!1),h=$(()=>a.activePlayerQueue?r.value.slice(a.activePlayerQueue.current_index):[]),y=$(()=>a.activePlayerQueue?r.value.slice(0,a.activePlayerQueue.current_index):[]),v=$(()=>{switch(l.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return a.showQueueItems?"1.5em":"2.5em";case"xl":return a.showQueueItems?"1.6em":"3em";case"xxl":return a.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),w=$(()=>{switch(l.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return a.showQueueItems?"1.0em":"1.6em";case"xl":return a.showQueueItems?"1.2em":"2em";case"xxl":return a.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),_=function(g){a.showFullscreenPlayer=!1,Ke.push({name:g.media_type,params:{itemId:g.item_id,provider:g.provider}})},B=function(g){a.globalSearchTerm=g,Ke.push({name:"search"}),a.showFullscreenPlayer=!1},U=function(g,k){var A,Z,te,fe,re,be,he;const S=r.value.indexOf(k),E=[{label:"play_now",labelArgs:[],action:()=>{W(k,"play_now")},icon:"mdi-play-circle-outline",disabled:S===((A=a.activePlayerQueue)==null?void 0:A.current_index)||S===((Z=a.activePlayerQueue)==null?void 0:Z.index_in_buffer)},{label:"play_next",labelArgs:[],action:()=>{W(k,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:S<=(((te=a.activePlayerQueue)==null?void 0:te.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{W(k,"up")},icon:"mdi-arrow-up",disabled:S<=(((fe=a.activePlayerQueue)==null?void 0:fe.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{W(k,"down")},icon:"mdi-arrow-down",disabled:S<=(((re=a.activePlayerQueue)==null?void 0:re.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{W(k,"delete")},icon:"mdi-delete",disabled:S<=(((be=a.activePlayerQueue)==null?void 0:be.index_in_buffer)||0)}];((he=k==null?void 0:k.media_item)==null?void 0:he.media_type)==pe.TRACK&&E.push({label:"show_info",labelArgs:[],action:()=>{_(k.media_item)},icon:"mdi-information-outline",disabled:!1}),we.emit("contextmenu",{items:E,posX:g.clientX,posY:g.clientY})},x=function(g){a.activePlayer&&we.emit("contextmenu",{items:ga(a.activePlayer,a.activePlayerQueue),posX:g.clientX,posY:g.clientY})},W=function(g,k){var S,E,A,Z,te;!g||!a.activePlayerQueue||(k=="play_now"?P.queueCommandPlayIndex((S=a.activePlayerQueue)==null?void 0:S.queue_id,g.queue_item_id):k=="move_next"?P.queueCommandMoveNext((E=a.activePlayerQueue)==null?void 0:E.queue_id,g.queue_item_id):k=="up"?P.queueCommandMoveUp((A=a.activePlayerQueue)==null?void 0:A.queue_id,g.queue_item_id):k=="down"?P.queueCommandMoveDown((Z=a.activePlayerQueue)==null?void 0:Z.queue_id,g.queue_item_id):k=="delete"&&P.queueCommandDelete((te=a.activePlayerQueue)==null?void 0:te.queue_id,g.queue_item_id))},H=async function(){u.value=!0,r.value=[],await Lt(100),u.value=!1},z=async function({done:g}){var A;if(!a.activePlayerQueue||a.activePlayerQueue.items==0){g("empty");return}if(r.value.length>=((A=a.activePlayerQueue)==null?void 0:A.items)){g("empty");return}const k=r.value.length,S=(a.activePlayerQueue.current_index||0)+50,E=await P.getPlayerQueueItems(a.activePlayerQueue.queue_id,S,k);r.value.push(...E),E.length<50?g("empty"):g("ok")};Te(()=>{const g=P.subscribe(Ra.QUEUE_ITEMS_UPDATED,k=>{var S;k.object_id==((S=a.activePlayerQueue)==null?void 0:S.queue_id)&&(k.data,H())});Fe(g)});const L=function(g){var S;if(!((S=a.curQueueItem)!=null&&S.media_item))return;if(!a.curQueueItem.media_item.favorite){P.toggleFavorite(a.curQueueItem.media_item);return}const k=[{label:"favorites_remove",labelArgs:[],action:()=>{P.toggleFavorite(a.curQueueItem.media_item)},icon:"mdi-heart"},{label:"add_playlist",labelArgs:[],action:()=>{we.emit("playlistdialog",{items:[a.curQueueItem.media_item]})},icon:"mdi-plus-circle-outline"}];we.emit("contextmenu",{items:k,posX:g.clientX,posY:g.clientY})},T=function(){u.value=!0,Lt(100).then(()=>{u.value=!1})};return ee(()=>a.activePlayerId,g=>{H()},{immediate:!0}),ee(()=>n.colorPalette,g=>{!g.darkColor||!g.lightColor?d.value=Ze.theme.current.value.dark?"#000":"#fff":d.value=Ze.theme.current.value.dark?g.darkColor:g.lightColor}),(g,k)=>(m(),I(ra,{modelValue:e(a).showFullscreenPlayer,"onUpdate:modelValue":k[12]||(k[12]=S=>e(a).showFullscreenPlayer=S),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition","z-index":"9999"},{default:p(()=>[c(Ne,{color:e(Ha)(d.value,70,80)},{default:p(()=>{var S,E,A,Z,te,fe,re,be,he,Ye,Be,xe,K,Ee,qe,ze,$t,St,Qt,Tt,Mt,Bt,Et,qt;return[c(kl,{class:"v-toolbar-default",color:"transparent"},{prepend:p(()=>[c(ie,{icon:"",onClick:k[0]||(k[0]=M=>e(a).showFullscreenPlayer=!1)},{default:p(()=>[c(N,{icon:"mdi-chevron-down"})]),_:1})]),append:p(()=>{var M;return[(M=e(a).activePlayerQueue)!=null&&M.radio_source.length?(m(),I(kt,{key:0,scrim:""},{activator:p(({props:X})=>[c(ie,Y(X,{icon:""}),{default:p(()=>[c(N,{color:"accent",icon:"mdi-radio-tower"})]),_:2},1040)]),default:p(()=>[c(Ne,{title:g.$t("queue_radio_enabled"),subtitle:g.$t("queue_radio_based_on")},{text:p(()=>{var X;return[(m(!0),b(F,null,oe((X=e(a).activePlayerQueue)==null?void 0:X.radio_source,ne=>(m(),b("div",{key:ne.uri},[Q("a",{onClick:nt=>_(ne)},C(ne.name),9,Ti)]))),128))]}),_:1},8,["title","subtitle"])]),_:1})):V("",!0),c(ie,{icon:"",onClick:se(x,["stop"])},{default:p(()=>[c(N,{icon:"mdi-dots-vertical"})]),_:1})]}),_:1}),Q("div",Mi,[e(j)("bp7")||!e(a).showQueueItems?(m(),b("div",Bi,[g.$vuetify.display.height>600?(m(),b("div",Ei,[!((S=e(a).curQueueItem)!=null&&S.image)&&((A=(E=e(a).activePlayer)==null?void 0:E.current_media)!=null&&A.image_url)?(m(),I(lt,{key:0,style:{"max-width":"100%",width:"auto","border-radius":"4px"},src:e(a).activePlayer.current_media.image_url},null,8,["src"])):(m(),I(Ie,{key:1,item:e(a).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"},fallback:g.$vuetify.theme.current.dark?e(ot):e(sa)},null,8,["item","fallback"]))])):V("",!0),Q("div",qi,[((Z=e(a).activePlayer)==null?void 0:Z.powered)==!1?(m(),I(Re,{key:0,style:O(`font-size: ${v.value};`)},{default:p(()=>{var M;return[R(C((M=e(a).activePlayer)==null?void 0:M.display_name),1)]}),_:1},8,["style"])):(te=e(a).curQueueItem)!=null&&te.media_item?(m(),I(Re,{key:1,style:O(`font-size: ${v.value};cursor:pointer;`),onClick:k[1]||(k[1]=M=>_(e(a).curQueueItem.media_item))},{default:p(()=>[c(le,{sync:e(o)},{default:p(()=>[R(C(e(a).curQueueItem.media_item.name)+" ",1),"version"in e(a).curQueueItem.media_item&&e(a).curQueueItem.media_item.version?(m(),b("span",zi,"("+C(e(a).curQueueItem.media_item.version)+")",1)):V("",!0)]),_:1},8,["sync"])]),_:1},8,["style"])):(re=(fe=e(a).activePlayer)==null?void 0:fe.current_media)!=null&&re.title?(m(),I(Re,{key:2},{default:p(()=>{var M,X,ne,nt;return[(X=(M=e(a).activePlayer)==null?void 0:M.current_media)!=null&&X.artist?(m(),b("div",Li,[c(le,{sync:e(o)},{default:p(()=>{var Le,Ae;return[R(C((Ae=(Le=e(a).activePlayer)==null?void 0:Le.current_media)==null?void 0:Ae.artist),1)]}),_:1},8,["sync"])])):V("",!0),(nt=(ne=e(a).activePlayer)==null?void 0:ne.current_media)!=null&&nt.title?(m(),b("div",{key:1,style:O(`font-size: ${w.value};`)},[c(le,{sync:e(o)},{default:p(()=>{var Le,Ae;return[R(C((Ae=(Le=e(a).activePlayer)==null?void 0:Le.current_media)==null?void 0:Ae.title),1)]}),_:1},8,["sync"])],4)):V("",!0)]}),_:1})):(m(),I(Re,{key:3,style:O(`font-size: ${v.value};cursor:pointer;`),onClick:k[2]||(k[2]=M=>e(a).showPlayersMenu=!0)},{default:p(()=>[c(le,{sync:e(o)},{default:p(()=>{var M;return[R(C(((M=e(a).activePlayer)==null?void 0:M.display_name)||g.$t("no_player")),1)]}),_:1},8,["sync"])]),_:1},8,["style"])),(be=e(a).activePlayer)!=null&&be.powered?V("",!0):(m(),I(ge,{key:4,class:"text-h6 text-md-h5 text-lg-h4"},{default:p(()=>[R(C(g.$t("off")),1)]),_:1})),((Ye=(he=e(a).curQueueItem)==null?void 0:he.media_item)==null?void 0:Ye.media_type)==e(pe).RADIO&&((xe=(Be=e(a).curQueueItem)==null?void 0:Be.streamdetails)!=null&&xe.stream_title)?(m(),I(ge,{key:5,class:"text-h6 text-md-h5 text-lg-h4",onClick:k[3]||(k[3]=M=>B(e(a).curQueueItem.streamdetails.stream_title))},{default:p(()=>[c(le,{sync:e(o)},{default:p(()=>[R(C(e(a).curQueueItem.streamdetails.stream_title),1)]),_:1},8,["sync"])]),_:1})):V("",!0),(K=e(a).curQueueItem)!=null&&K.media_item&&"album"in e(a).curQueueItem.media_item&&e(a).curQueueItem.media_item.album?(m(),I(ge,{key:6,style:O(`font-size: ${w.value};cursor:pointer;`),onClick:k[4]||(k[4]=M=>_(e(a).curQueueItem.media_item.album))},{default:p(()=>[c(le,{sync:e(o)},{default:p(()=>[R(C(e(a).curQueueItem.media_item.album.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):V("",!0),(Ee=e(a).curQueueItem)!=null&&Ee.media_item&&"artists"in e(a).curQueueItem.media_item&&e(a).curQueueItem.media_item.artists.length?(m(),I(ge,{key:7,style:O(`font-size: ${w.value};cursor:pointer;`),onClick:k[5]||(k[5]=M=>_(e(a).curQueueItem.media_item.artists[0]))},{default:p(()=>[c(le,{sync:e(o)},{default:p(()=>[R(C(e(a).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):V("",!0),(qe=e(a).curQueueItem)!=null&&qe.media_item&&"podcast"in e(a).curQueueItem.media_item&&e(a).curQueueItem.media_item.podcast?(m(),I(ge,{key:8,style:O(`font-size: ${w.value};`)},{default:p(()=>[c(le,{sync:e(o)},{default:p(()=>[R(C(e(a).curQueueItem.media_item.podcast.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):V("",!0),(ze=e(a).curQueueItem)!=null&&ze.media_item&&"audiobook"in e(a).curQueueItem.media_item&&e(a).curQueueItem.media_item.audiobook?(m(),I(ge,{key:9,style:O(`font-size: ${w.value};`)},{default:p(()=>[c(le,{sync:e(o)},{default:p(()=>[R(C(e(a).curQueueItem.media_item.audiobook.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):(($t=e(a).activePlayer)==null?void 0:$t.active_source)!=((St=e(a).activePlayer)==null?void 0:St.player_id)?(m(),I(ge,{key:10},{default:p(()=>{var M;return[R(C(g.$t("external_source_active",[(M=e(a).activePlayer)==null?void 0:M.active_source])),1)]}),_:1})):e(a).activePlayerQueue&&e(a).activePlayerQueue.items==0?(m(),I(ge,{key:11,style:O(`font-size: ${w.value}`)},{default:p(()=>[R(C(g.$t("queue_empty")),1)]),_:1},8,["style"])):V("",!0),Q("div",Ai,[c(gl)])])])):V("",!0),e(a).showQueueItems?(m(),b("div",Wi,[c(Qi,{modelValue:f.value,"onUpdate:modelValue":k[6]||(k[6]=M=>f.value=M),"hide-slider":"",density:"compact",onClick:T},{default:p(()=>[c(mt,{value:0},{default:p(()=>{var M,X;return[R(C(g.$t("queue"))+" ",1),c(dt,{color:"grey",content:(((M=e(a).activePlayerQueue)==null?void 0:M.items)||0)-(((X=e(a).activePlayerQueue)==null?void 0:X.current_index)||0),inline:""},null,8,["content"])]}),_:1}),c(mt,{value:1},{default:p(()=>{var M;return[R(C(g.$t("played"))+" ",1),c(dt,{color:"grey",content:(M=e(a).activePlayerQueue)==null?void 0:M.current_index,inline:""},null,8,["content"])]}),_:1})]),_:1},8,["modelValue"]),Q("div",Ri,[u.value?V("",!0):(m(),I(wl,{key:0,onLoad:z,"empty-text":"",height:"100%"},{default:p(()=>[c(Vl,{"item-height":70,"max-height":"90%",items:f.value==0?h.value:y.value},{default:p(({item:M,index:X})=>[c(Va,{link:"","show-menu-btn":!0,onClick:se(ne=>U(ne,M),["stop"]),onMenu:se(ne=>U(ne,M),["stop"]),onMouseenter:ne=>s.value=X,onMouseleave:k[7]||(k[7]=ne=>s.value=-1)},{prepend:p(()=>[Q("div",Hi,[c(Ie,{size:"50",item:M},null,8,["item"])])]),title:p(()=>[c(le,{sync:X==0&&f.value==0?e(o):e(i),disabled:!(X==0&&f.value==0||s.value==X)},{default:p(()=>[R(C(M.name),1)]),_:2},1032,["sync","disabled"])]),subtitle:p(()=>[Q("div",Di,[Q("span",Ni,C(e(Xe)(M.duration))+" | ",1),c(le,{sync:X==0&&f.value==0?e(o):e(i),disabled:!(X==0&&f.value==0||s.value==X)},{default:p(()=>[M.media_item&&"album"in M.media_item&&M.media_item.album?(m(),b("span",Ui,C(M.media_item.album.name),1)):V("",!0)]),_:2},1032,["sync","disabled"])])]),_:2},1032,["onClick","onMenu","onMouseenter"])]),_:1},8,["items"])]),_:1}))])])):V("",!0),!e(a).showQueueItems&&g.$vuetify.display.height<=600?(m(),b("div",Fi,[Q("div",Oi,[c(Ie,{item:e(a).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])])])):V("",!0)]),Q("div",Yi,[Q("div",xi,[c(ma,{"show-labels":!0})]),Q("div",Xi,[e(a).activePlayerQueue?(m(),I(Pe,{key:0,disabled:!((Qt=e(a).curQueueItem)!=null&&Qt.media_item),icon:(Mt=(Tt=e(a).curQueueItem)==null?void 0:Tt.media_item)!=null&&Mt.favorite?"mdi-heart":"mdi-heart-outline",title:g.$t("tooltip.favorite"),type:"btn",class:"media-controls-item","max-height":"30px",onClick:L},null,8,["disabled","icon","title"])):V("",!0),g.$vuetify.display.mdAndUp?(m(),I(ya,{key:1,"player-queue":e(a).activePlayerQueue,class:"media-controls-item","max-height":"30px"},null,8,["player-queue"])):V("",!0),c(pa,{player:e(a).activePlayer,"player-queue":e(a).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),c(Vt,{player:e(a).activePlayer,"player-queue":e(a).activePlayerQueue,class:"media-controls-item","max-height":"100px"},null,8,["player","player-queue"]),c(fa,{player:e(a).activePlayer,"player-queue":e(a).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),g.$vuetify.display.mdAndUp?(m(),I(va,{key:2,"player-queue":e(a).activePlayerQueue,class:"media-controls-item","max-height":"35px"},null,8,["player-queue"])):V("",!0),e(a).activePlayerQueue?(m(),I(ha,{key:3,class:"media-controls-item","max-height":"30px"})):V("",!0)]),e(a).activePlayer?(m(),b("div",Gi,[c(Ue,{width:"100%","is-powered":(Bt=e(a).activePlayer)==null?void 0:Bt.powered,disabled:!e(a).activePlayer||!((Et=e(a).activePlayer)!=null&&Et.powered),"model-value":Math.round(((qt=e(a).activePlayer)==null?void 0:qt.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","allow-wheel":!0,"onUpdate:modelValue":k[8]||(k[8]=M=>e(a).activePlayer.group_childs.length>0?e(P).playerCommandGroupVolume(e(a).activePlayerId,M):e(P).playerCommandVolumeSet(e(a).activePlayerId,M)),"onClick:prepend":k[9]||(k[9]=M=>e(a).activePlayer.group_childs.length>0?e(P).playerCommandGroupVolumeDown(e(a).activePlayerId):e(P).playerCommandVolumeDown(e(a).activePlayerId)),"onClick:append":k[10]||(k[10]=M=>e(a).activePlayer.group_childs.length>0?e(P).playerCommandGroupVolumeUp(e(a).activePlayerId):e(P).playerCommandVolumeUp(e(a).activePlayerId))},null,8,["is-powered","disabled","model-value"])])):V("",!0),g.$vuetify.display.height>800?(m(),b("div",ji,[c(_e,{class:"responsive-icon-holder-btn",variant:"outlined",onClick:k[11]||(k[11]=M=>e(a).showPlayersMenu=!0)},{default:p(()=>{var M;return[c(N,{icon:((M=e(a).activePlayer)==null?void 0:M.icon)||"mdi-speaker"},null,8,["icon"]),R(" "+C(e(a).activePlayer?e(at)(e(a).activePlayer):""),1)]}),_:1})])):V("",!0)])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}}),Zi=ae(Ki,[["__scopeId","data-v-103d290e"]]),Ji={key:1},eo={key:2,class:"icon-thumb"},to={key:0},ao={key:2},lo={key:3},io={key:5,class:"line-clamp-1"},oo={class:"d-flex justify-center",style:{width:"100%"}},no={key:0},so={key:1},ro={key:2},uo={key:3},co={key:4},mo={key:5,class:"line-clamp-1"},vo={key:6,class:"line-clamp-1"},yo={key:7},po={key:8,class:"line-clamp-1"},fo={key:0},ho=D({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(t){const l=new ct,n=t,o=$(()=>{var s,i;return(i=(s=a.activePlayerQueue)==null?void 0:s.current_item)==null?void 0:i.streamdetails});return(s,i)=>(m(),b(F,null,[c(ue,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:p(()=>{var r,d,f,u,h,y,v,w,_;return[Q("div",{class:"media-thumb player-media-thumb",style:O(`cursor: pointer;height: ${e(j)({breakpoint:"phone"})?50:64}px; width: ${e(j)({breakpoint:"phone"})?50:64}px; `),onClick:i[0]||(i[0]=B=>e(a).showFullscreenPlayer=!0)},[(r=e(a).curQueueItem)!=null&&r.media_item||(d=e(a).curQueueItem)!=null&&d.image?(m(),I(Ie,{key:0,item:((f=e(a).curQueueItem)==null?void 0:f.media_item)||e(a).curQueueItem,fallback:e(ot)},null,8,["item","fallback"])):(u=e(a).activePlayer)!=null&&u.powered&&((y=(h=e(a).activePlayer)==null?void 0:h.current_media)!=null&&y.image_url)?(m(),b("div",Ji,[c(lt,{class:"media-thumb",style:{"border-radius":"4px"},size:"55",src:e(a).activePlayer.current_media.image_url},null,8,["src"])])):(m(),b("div",eo,[c(N,{size:"35",icon:((v=e(a).activePlayer)==null?void 0:v.type)==e(Se).PLAYER&&((w=e(a).activePlayer)!=null&&w.group_childs.length)?"mdi-speaker-multiple":((_=e(a).activePlayer)==null?void 0:_.icon)||"mdi-speaker",style:{display:"table-cell",opacity:"0.8"}},null,8,["icon"])]))],4)]}),title:p(()=>{var r,d,f,u,h;return[Q("div",{style:O({cursor:"pointer",color:s.primaryColor})},[((r=e(a).activePlayer)==null?void 0:r.powered)==!1?(m(),b("div",{key:0,onClick:i[1]||(i[1]=y=>e(a).showPlayersMenu=!0)},C((d=e(a).activePlayer)==null?void 0:d.display_name),1)):(f=e(a).curQueueItem)!=null&&f.media_item?(m(),b("div",{key:1,onClick:i[2]||(i[2]=y=>e(a).showFullscreenPlayer=!0)},[c(le,{sync:e(l)},{default:p(()=>[R(C(e(a).curQueueItem.media_item.name)+" ",1),"version"in e(a).curQueueItem.media_item&&e(a).curQueueItem.media_item.version?(m(),b("span",to,"("+C(e(a).curQueueItem.media_item.version)+")",1)):V("",!0)]),_:1},8,["sync"])])):e(a).curQueueItem?(m(),b("div",ao,C(e(a).curQueueItem.name),1)):(h=(u=e(a).activePlayer)==null?void 0:u.current_media)!=null&&h.title?(m(),b("div",lo,C(e(a).activePlayer.current_media.title),1)):e(a).activePlayer?e(a).activePlayerQueue&&e(a).activePlayerQueue.items==0?(m(),b("div",io,C(s.$t("queue_empty")),1)):V("",!0):(m(),b("div",{key:4,onClick:i[3]||(i[3]=y=>e(a).showPlayersMenu=!0)},C(s.$t("no_player")),1))],4)]}),append:p(()=>{var r,d,f;return[(r=o.value)!=null&&r.audio_format.content_type&&!e(j)({breakpoint:"phone"})&&s.showQualityDetailsBtn?(m(),I(Cl,Y({key:0,disabled:!e(a).activePlayerQueue||!((d=e(a).activePlayerQueue)!=null&&d.active)||((f=e(a).activePlayerQueue)==null?void 0:f.items)==0,class:"player-track-content-type",style:s.$vuetify.theme.current.dark?"color: #000; background: #fff; margin-left: 15px;":"color: #fff; background: #000; margin-left: 15px;",label:"",ripple:!1},n),{default:p(()=>[Q("div",oo,C(o.value.audio_format.content_type.toUpperCase()),1)]),_:1},16,["disabled","style"])):V("",!0)]}),subtitle:p(()=>{var r;return[Q("div",{style:O({cursor:"pointer",color:s.primaryColor}),class:"line-clamp-1",onClick:i[4]||(i[4]=d=>e(a).showFullscreenPlayer=!0)},[c(le,{sync:e(l)},{default:p(()=>{var d,f,u,h,y,v,w,_,B,U,x,W,H,z,L,T,g,k;return[(d=e(a).activePlayer)!=null&&d.powered?e(a).curQueueItem&&((f=e(a).curQueueItem.media_item)==null?void 0:f.media_type)==e(pe).TRACK&&"album"in e(a).curQueueItem.media_item&&e(a).curQueueItem.media_item.album&&!n.showOnlyArtist?(m(),b("div",so,C(e(ea)(e(a).curQueueItem.media_item.artists))+" • "+C(e(a).curQueueItem.media_item.album.name),1)):(u=e(a).curQueueItem)!=null&&u.media_item&&"artists"in e(a).curQueueItem.media_item&&e(a).curQueueItem.media_item.artists.length>0?(m(),b("div",ro,C(e(a).curQueueItem.media_item.artists[0].name),1)):(h=e(a).curQueueItem)!=null&&h.media_item&&"podcast"in e(a).curQueueItem.media_item&&((y=e(a).curQueueItem.media_item.podcast)!=null&&y.name)?(m(),b("div",uo,C(e(a).curQueueItem.media_item.podcast.name),1)):(v=e(a).curQueueItem)!=null&&v.media_item&&"audiobook"in e(a).curQueueItem.media_item&&((w=e(a).curQueueItem.media_item.audiobook)!=null&&w.name)?(m(),b("div",co,C(e(a).curQueueItem.media_item.audiobook.name),1)):(B=(_=e(a).curQueueItem)==null?void 0:_.streamdetails)!=null&&B.stream_title?(m(),b("div",mo,C((x=(U=e(a).curQueueItem)==null?void 0:U.streamdetails)==null?void 0:x.stream_title),1)):(H=(W=e(a).curQueueItem)==null?void 0:W.media_item)!=null&&H.metadata.description?(m(),b("div",vo,C(e(ta)(e(a).curQueueItem.media_item.metadata.description,100)),1)):(L=(z=e(a).activePlayer)==null?void 0:z.current_media)!=null&&L.artist?(m(),b("div",yo,C(e(a).activePlayer.current_media.artist),1)):((T=e(a).activePlayer)==null?void 0:T.active_source)!=((g=e(a).activePlayer)==null?void 0:g.player_id)?(m(),b("div",po,C(s.$t("external_source_active",[(k=e(a).activePlayer)==null?void 0:k.active_source])),1)):V("",!0):(m(),b("div",no,C(s.$t("off")),1))]}),_:1},8,["sync"]),e(a).activePlayer&&((r=e(a).activePlayer)!=null&&r.powered)?(m(),b("div",fo,C(e(at)(e(a).activePlayer)),1)):V("",!0)],4)]}),_:1}),c(Zi,{"show-fullscreen":e(a).showFullscreenPlayer,"color-palette":s.colorPalette},null,8,["show-fullscreen","color-palette"])],64))}}),go=D({__name:"SpeakerBtn",props:{color:{}},setup(t){return(l,n)=>(m(),I(ie,{variant:"icon",ripple:!1,icon:"",onClick:n[0]||(n[0]=o=>e(a).showPlayersMenu=!0)},{default:p(()=>{var o;return[c(N,{color:l.color?l.color:"",size:24,icon:(o=e(a).activePlayer)!=null&&o.group_childs.length?"mdi-speaker-multiple":"mdi-speaker"},null,8,["color","icon"])]}),_:1}))}}),_o={key:1,class:"text-caption volumecaption"},bo={key:0,class:"text-caption volumecaption"},wo=D({__name:"VolumeControl",props:{player:{},showSyncControls:{type:Boolean},showSubPlayers:{type:Boolean},hideHeadingRow:{type:Boolean},allowWheel:{type:Boolean}},setup(t){const l=t,n=q([]),o=q([]),s=q(void 0),i=$(()=>l.player.group_childs.length>0),r=function(u,h=!0){var v,w;const y=[];h&&u.type!=Se.GROUP&&y.push(u);for(const _ of u.group_childs){const B=(v=P)==null?void 0:v.players[_];B&&B.available&&!y.includes(B)&&y.push(B)}if(l.showSyncControls&&u.supported_features.includes(ve.SET_MEMBERS))for(const _ of Object.values((w=P)==null?void 0:w.players))_.player_id!=u.player_id&&(!u.can_group_with.includes(_.player_id)&&!u.can_group_with.includes(_.provider)||_.available&&(_.active_group&&_.active_group!=u.player_id||_.active_source&&_.state==je.PLAYING&&![u.player_id,_.player_id].includes(_.active_source)||y.includes(_)||y.push(_)));return y.sort((_,B)=>_.display_name.toUpperCase()>B.display_name.toUpperCase()?1:-1),y},d=async function(u){for(const h of u)P.players[h].powered&&!P.players[h].active_group?await P.playerCommandPower(h,!1):await P.playerCommandUnGroup(h)},f=async function(u,h){const y=l.player.player_id;h?(o.value.includes(u)&&(o.value=o.value.filter(v=>v!=u)),n.value.includes(u)||n.value.push(u),P.players[y].group_childs.push(u)):(n.value.includes(u)&&(n.value=n.value.filter(v=>v!=u)),o.value.includes(u)||o.value.push(u),P.players[y].group_childs=P.players[y].group_childs.filter(v=>v!=u)),s.value!=null&&clearTimeout(s.value),s.value=setTimeout(async()=>{o.value.length>0&&d(o.value).catch(async()=>{P.players[y]=await P.getPlayer(y)}).finally(()=>{o.value=[]}),n.value.length>0&&P.playerCommandGroupMany(y,n.value).catch(async()=>{P.players[y]=await P.getPlayer(y)}).finally(()=>{n.value=[]})},1e3)};return(u,h)=>(m(),I(Qe,{style:{overflow:"hidden",padding:"0"},lines:"two"},{default:p(()=>[u.hideHeadingRow?V("",!0):(m(),I(ue,{key:0,class:"volumesliderrow heading",link:!1,style:O(u.player.powered?"opacity: 1":"opacity: 0.6")},{prepend:p(()=>[c(N,{size:25,icon:u.player.icon,style:{"margin-left":"6px",opacity:"0.6"}},null,8,["icon"])]),default:p(()=>[Q("h5",null,C(e(at)(u.player,27)),1)]),append:p(()=>[c(ie,{class:"powerbtn",variant:"icon",onClick:h[0]||(h[0]=se(y=>e(P).playerCommandPowerToggle(u.player.player_id),["stop"]))},{default:p(()=>[c(N,{size:25,icon:"mdi-power"})]),_:1})]),_:1},8,["style"])),c(ue,{class:"volumesliderrow",link:!1,style:O(u.player.powered?"opacity: 0.75":"opacity: 0.35")},{prepend:p(()=>[c(ie,{icon:"",style:{height:"25px"},disabled:u.player.type==e(Se).GROUP||u.player.group_childs.length>0,onClick:h[1]||(h[1]=se(y=>e(P).playerCommandMuteToggle(u.player.player_id),["stop"]))},{default:p(()=>[c(N,{size:25,icon:u.player.volume_muted?"mdi-volume-mute":"mdi-volume-medium"},null,8,["icon"])]),_:1},8,["disabled"])]),default:p(()=>[c(Ue,{color:"secondary",width:"100%","is-powered":u.player.powered,disabled:!u.player.available||!u.player.powered||!u.player.supported_features.includes(e(ve).VOLUME_SET)&&!u.player.group_childs.length,"model-value":Math.round(u.player.group_childs.length?u.player.group_volume:u.player.volume_level),onClick:h[2]||(h[2]=se(()=>{},["stop"])),"onUpdate:modelValue":h[3]||(h[3]=y=>u.player.group_childs.length>0?e(P).playerCommandGroupVolume(u.player.player_id,y):e(P).playerCommandVolumeSet(u.player.player_id,y))},null,8,["is-powered","disabled","model-value"])]),append:p(()=>[i.value&&!u.showSubPlayers?(m(),I(N,{key:0,class:"expandbtn"},{default:p(()=>h[7]||(h[7]=[R(" mdi-chevron-down ")])),_:1})):(m(),b("div",_o,C(Math.round(u.player.group_childs.length?u.player.group_volume:u.player.volume_level)),1))]),_:1},8,["style"]),u.showSubPlayers&&u.player.powered&&(u.player.group_childs.length>0||u.showSyncControls)?(m(),b("div",{key:1,onClick:h[6]||(h[6]=se(()=>{},["stop"]))},[c(Je,{style:{"margin-top":"10px","margin-bottom":"15px"}}),(m(!0),b(F,null,oe(r(u.player,!u.showSyncControls),y=>(m(),b("div",{key:y.player_id},[c(ue,{class:"volumesliderrow",link:!1,style:O(y.powered||u.showSyncControls?"opacity: 0.75":"opacity: 0.4"),onClick:h[4]||(h[4]=se(()=>{},["stop"]))},{prepend:p(()=>[c(N,{size:30,icon:y.icon,style:{"margin-left":"6px",opacity:"0.6"}},null,8,["icon"])]),default:p(()=>[Q("h6",null,C(e(ta)(y.display_name,27)),1)]),append:p(()=>[u.showSyncControls?(m(),I(Il,{key:0,ripple:!1,disabled:y.player_id==u.player.player_id,"model-value":u.player.group_childs.includes(y.player_id)||y.player_id==u.player.player_id,size:"22",class:"checkbox","onUpdate:modelValue":v=>f(y.player_id,v)},null,8,["disabled","model-value","onUpdate:modelValue"])):V("",!0)]),_:2},1032,["style"]),c(ue,{class:"volumesliderrow",link:!1,style:O(y.powered?"opacity: 0.75":"opacity: 0.4"),onClick:h[5]||(h[5]=se(()=>{},["stop"]))},{prepend:p(()=>[c(ie,{icon:"",disabled:!y.supported_features.includes(e(ve).VOLUME_MUTE),style:{height:"25px"},onClick:v=>e(P).playerCommandMuteToggle(y.player_id)},{default:p(()=>[c(N,{size:25,icon:y.volume_muted?"mdi-volume-mute":"mdi-volume-medium"},null,8,["icon"])]),_:2},1032,["disabled","onClick"])]),default:p(()=>[c(Ue,{color:"secondary",width:"100%","is-powered":y.powered,disabled:!y.available||!y.supported_features.includes(e(ve).VOLUME_SET),"allow-wheel":u.allowWheel,"model-value":Math.round(y.volume_level),"onUpdate:modelValue":v=>e(P).playerCommandVolumeSet(y.player_id,v)},null,8,["is-powered","disabled","allow-wheel","model-value","onUpdate:modelValue"])]),append:p(()=>[y.supported_features.includes(e(ve).VOLUME_SET)?(m(),b("div",bo,C(y.volume_level),1)):V("",!0)]),_:2},1032,["style"]),h[8]||(h[8]=Q("div",{style:{height:"14px"}},null,-1))]))),128))])):V("",!0)]),_:1}))}}),Ca=ae(wo,[["__scopeId","data-v-5404a26c"]]),ko={key:0},Po={key:0},Co={class:"text-caption"},Vo={key:1},Io=D({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(t){const l=t,n=q(!1);return(o,s)=>l.isVisible&&e(a).activePlayer?(m(),b("div",ko,[c(kt,{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=i=>n.value=i),class:"volume-control-dialog","close-on-content-click":!1,location:"top",scrim:o.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:p(({props:i})=>{var r,d;return[e(j)("bp6")||!o.responsiveVolumeSize?(m(),b("div",Po,[c(Ue,{style:"margin-right: 0px; margin-left: 0px;",width:o.volumeSize,"is-powered":!0,"model-value":e(a).activePlayer.group_childs.length>0?Math.round(((r=e(a).activePlayer)==null?void 0:r.group_volume)||0):Math.round(((d=e(a).activePlayer)==null?void 0:d.volume_level)||0),"allow-wheel":!0,"onUpdate:modelValue":s[0]||(s[0]=f=>{var u,h;return e(a).activePlayer.group_childs.length>0?e(P).playerCommandGroupVolume(((u=e(a).activePlayer)==null?void 0:u.player_id)||"",f):e(P).playerCommandVolumeSet(((h=e(a).activePlayer)==null?void 0:h.player_id)||"",f)})},{prepend:p(()=>[c(ie,Y({variant:"icon",size:"48",ripple:!1},{...i}),{default:p(()=>{var f,u;return[c(N,{color:l.color?o.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),Q("div",Co,C(e(a).activePlayer.group_childs.length>0?Math.round(((f=e(a).activePlayer)==null?void 0:f.group_volume)||0):Math.round(((u=e(a).activePlayer)==null?void 0:u.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(m(),b("div",Vo,[c(ie,Y({...i},{size:"48",variant:"icon"}),{default:p(()=>{var f,u;return[c(N,{color:l.color?o.color:"",icon:"mdi-volume-high"},null,8,["color"]),Q("div",{class:"text-caption",style:O({color:l.color?o.color:""})},C(e(a).activePlayer.group_childs.length>0?Math.round(((f=e(a).activePlayer)==null?void 0:f.group_volume)||0):Math.round(((u=e(a).activePlayer)==null?void 0:u.volume_level)||0)),5)]}),_:2},1040)]))]}),default:p(()=>[c(Ne,{"min-width":300,style:{overflow:"hidden","padding-top":"20px","padding-bottom":"20px","padding-right":"20px"}},{default:p(()=>[e(a).activePlayer?(m(),I(Ca,{key:0,player:e(a).activePlayer,"show-sub-players":!0,"show-sync-controls":!1,"hide-heading-row":!1,"allow-wheel":!0,style:{"margin-left":"18px"}},null,8,["player"])):V("",!0)]),_:1})]),_:1},8,["modelValue","scrim"])])):V("",!0)}}),$o=ae(Io,[["__scopeId","data-v-3b2ac5c4"]]),So=D({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(t){return(l,n)=>(m(),b(F,null,[l.player&&l.player.isVisible?(m(),I(go,{key:0,color:l.player.color},null,8,["color"])):V("",!0),l.queue&&l.queue.isVisible?(m(),I(ha,{key:1,color:l.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):V("",!0),l.volume&&l.volume.isVisible?(m(),I($o,{key:2,color:l.volume.color,"volume-size":l.volume.volumeSize,"responsive-volume-size":l.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):V("",!0)],64))}}),Qo=["data-floating"],To=["data-mobile"],Mo={class:"mediacontrols-left"},Bo={class:"mediacontrols-bottom-center"},Eo={class:"mediacontrols-bottom-right"},qo={key:0,class:"volume-slider"},zo=D({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(t){Da(i=>({"4e17711c":s.value})),Gt();const{mobile:l}=yt({mobileBreakpoint:576}),n=q({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),o=new Image;o.src=Ze.theme.current.value.dark?ot:sa,o.crossOrigin="Anonymous",o.addEventListener("load",function(){n.value=Na(o)});const s=$(()=>Ze.theme.current.value.dark?n.value&&n.value.darkColor?n.value.darkColor+"26":"CCCCCC26":n.value&&n.value.lightColor?n.value.lightColor+"26":"CCCCCC26");return ee(()=>{var i;return(i=a.curQueueItem)==null?void 0:i.queue_item_id},()=>{var i;(i=a.curQueueItem)!=null&&i.media_item?o.src=Wt(a.curQueueItem.media_item,At.THUMB)||"":a.curQueueItem?o.src=Wt(a.curQueueItem,At.THUMB)||"":o.src=""}),(i,r)=>{var d,f,u,h,y,v,w;return m(),b(F,null,[Q("div",{class:"mediacontrols-bg","data-floating":i.useFloatingPlayer},null,8,Qo),Q("div",{class:"mediacontrols","data-mobile":e(l)},[Q("div",Mo,[c(ho,{"show-quality-details-btn":!!e(j)("bp8"),"show-only-artist":!e(j)("bp7"),"color-palette":n.value,"primary-color":i.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])]),Q("div",Bo,[c(Ut,{"visible-components":{repeat:{isVisible:e(j)("bp3")},shuffle:{isVisible:e(j)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"},withCircle:i.useFloatingPlayer},previous:{isVisible:e(j)("bp3")},next:{isVisible:e(j)("bp3")}}},null,8,["visible-components"]),e(j)("bp6")?(m(),I(ma,{key:0,color:i.$vuetify.theme.current.dark?n.value.lightColor||"#fff":n.value.darkColor||"#000","is-progress-bar":!1,disabled:!((d=e(a).activePlayerQueue)!=null&&d.active)||((h=(u=(f=e(a).activePlayerQueue)==null?void 0:f.current_item)==null?void 0:u.media_item)==null?void 0:h.media_type)!==e(pe).TRACK},null,8,["color","disabled"])):V("",!0)]),Q("div",Eo,[Q("div",null,[c(So,{queue:{isVisible:e(j)("bp3"),color:i.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:i.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!e(l),color:i.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),c(Ut,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(j)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"40px",staticHeight:"40px",color:i.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],8,To),e(l)?(m(),b("div",qo,[c(Ue,{width:"100%",color:"secondary","is-powered":(y=e(a).activePlayer)==null?void 0:y.powered,disabled:!e(a).activePlayer||!((v=e(a).activePlayer)!=null&&v.powered),"model-value":Math.round(((w=e(a).activePlayer)==null?void 0:w.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":r[0]||(r[0]=_=>e(a).activePlayer.group_childs.length>0?e(P).playerCommandGroupVolume(e(a).activePlayerId,_):e(P).playerCommandVolumeSet(e(a).activePlayerId,_)),"onClick:prepend":r[1]||(r[1]=_=>e(a).activePlayer.group_childs.length>0?e(P).playerCommandGroupVolume(e(a).activePlayerId,e(a).activePlayer.group_volume-5):e(P).playerCommandVolumeSet(e(a).activePlayerId,e(a).activePlayer.volume_level-5)),"onClick:append":r[2]||(r[2]=_=>e(a).activePlayer.group_childs.length>0?e(P).playerCommandGroupVolume(e(a).activePlayerId,e(a).activePlayer.group_volume+5):e(P).playerCommandVolumeSet(e(a).activePlayerId,e(a).activePlayer.volume_level+5))},null,8,["is-powered","disabled","model-value"])])):V("",!0)],64)}}}),Lo=ae(zo,[["__scopeId","data-v-3edee708"]]),Ao=de({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ft(),...ke(),...ht(),...Pt(),...gt(),...Me({tag:"footer"}),...Oe()},"VFooter"),Wo=ce()({name:"VFooter",props:Ao(),setup(t,l){let{slots:n}=l;const o=q(),{themeClasses:s}=et(t),{backgroundColorClasses:i,backgroundColorStyles:r}=De(J(t,"color")),{borderClasses:d}=_t(t),{elevationClasses:f}=bt(t),{roundedClasses:u}=wt(t),h=ye(32),{resizeRef:y}=ol(w=>{w.length&&(h.value=w[0].target.clientHeight)}),v=$(()=>t.height==="auto"?h.value:parseInt(t.height,10));return He(()=>t.app,()=>{const w=Ct({id:t.name,order:$(()=>parseInt(t.order,10)),position:$(()=>"bottom"),layoutSize:v,elementSize:$(()=>t.height==="auto"?void 0:v.value),active:$(()=>t.app),absolute:J(t,"absolute")});xt(()=>{o.value=w.layoutItemStyles.value})}),me(()=>c(t.tag,{ref:y,class:["v-footer",s.value,i.value,d.value,f.value,u.value,t.class],style:[r.value,t.app?o.value:{height:$e(t.height)},t.style]},n)),{}}}),Ro=D({__name:"Footer",setup(t){const l=$(()=>a.navigationMenuStyle=="horizontal"),n=$(()=>a.navigationMenuStyle!="horizontal"?0:a.isInStandaloneMode?100:80),o=$(()=>l.value?n.value+5:0);return(s,i)=>(m(),b(F,null,[l.value?(m(),b("div",{key:0,class:Ge(s.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:O(`
      position: fixed;
      width: 100%;
      height: ${n.value+(e(j)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):V("",!0),e(a).navigationMenuStyle=="horizontal"?(m(),I(ei,{key:1,height:n.value},null,8,["height"])):V("",!0),c(Wo,{bottom:"",fixed:"",class:Ge(`d-flex flex-column ${l.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:O(`bottom: ${o.value}px;`),elevation:"10",app:""},{default:p(()=>[c(Lo,{"use-floating-player":l.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}}),Ho={class:"player-media-thumb"},Do={key:1},No={key:2,class:"icon-thumb"},Uo={style:{"margin-bottom":"3px"}},Fo={key:0,style:{"font-size":"0.85rem","font-weight":"500","white-space":"nowrap"}},Oo={key:0},Yo={key:0},xo={key:1},Xo={key:2},Go={class:"v-list-item-subtitle",style:{"white-space":"nowrap"}},jo={key:0},Ko={key:1},Zo={key:2},Jo={key:3},en={key:4},tn={key:5},an={key:6},ln=D({__name:"PlayerCard",props:{player:{},showVolumeControl:{type:Boolean},showMenuButton:{type:Boolean},showSubPlayers:{type:Boolean},showSyncControls:{type:Boolean}},setup(t){const l=t,n=$(()=>{if(l.player&&l.player.active_source in P.queues)return P.queues[l.player.active_source];if(l.player&&!l.player.active_source&&l.player.player_id in P.queues)return P.queues[l.player.player_id]}),o=$(()=>{if(n.value&&n.value.active)return n.value.current_item}),s=function(i){we.emit("contextmenu",{items:ga(l.player,n.value),posX:i.clientX,posY:i.clientY})};return(i,r)=>(m(),I(Ne,{flat:"",class:Ge(["panel-item",{"panel-item-selected":i.player.player_id==e(a).activePlayerId,"panel-item-idle":i.player.state==e(je).IDLE,"panel-item-off":!i.player.powered}]),ripple:!1},{default:p(()=>[c(ue,{class:"panel-item-details",flat:"",ripple:!1},{prepend:p(()=>{var d,f,u,h;return[Q("div",Ho,[i.player.powered&&((d=o.value)!=null&&d.media_item)||(f=o.value)!=null&&f.image?(m(),I(Ie,{key:0,class:"media-thumb",size:"55",item:((u=o.value)==null?void 0:u.media_item)||o.value,fallback:e(ot)},null,8,["item","fallback"])):i.player.powered&&!n.value&&((h=i.player.current_media)!=null&&h.image_url)?(m(),b("div",Do,[c(lt,{class:"media-thumb",size:"55",src:i.player.current_media.image_url},null,8,["src"])])):(m(),b("div",No,[c(N,{size:"35",icon:i.player.type==e(Se).PLAYER&&i.player.group_childs.length?"mdi-speaker-multiple":i.player.icon,style:{display:"table-cell",opacity:"0.8"}},null,8,["icon"])]))])]}),title:p(()=>[Q("div",Uo,C(e(at)(i.player,27)),1)]),subtitle:p(()=>{var d,f,u,h,y,v,w;return[i.player.powered?(m(),b("div",Fo,[(d=o.value)!=null&&d.media_item?(m(),b("div",Oo,[R(C((f=o.value)==null?void 0:f.media_item.name)+" ",1),"version"in((u=o.value)==null?void 0:u.media_item)&&((h=o.value)!=null&&h.media_item.version)?(m(),b("span",Yo,"("+C((y=o.value)==null?void 0:y.media_item.version)+")",1)):V("",!0)])):o.value?(m(),b("div",xo,C((v=o.value)==null?void 0:v.name),1)):(w=i.player.current_media)!=null&&w.title?(m(),b("div",Xo,C(i.player.current_media.title),1)):V("",!0)])):V("",!0)]}),default:p(()=>{var d,f,u,h,y,v,w,_,B,U,x,W,H,z,L,T,g,k,S;return[Q("div",Go,[i.player.powered?(d=o.value)!=null&&d.media_item&&((u=(f=o.value)==null?void 0:f.media_item)==null?void 0:u.media_type)==e(pe).TRACK&&"album"in((h=o.value)==null?void 0:h.media_item)&&((y=o.value)!=null&&y.media_item.album)?(m(),b("div",Ko,C(e(ea)((v=o.value)==null?void 0:v.media_item.artists))+" • "+C((w=o.value)==null?void 0:w.media_item.album.name),1)):(_=o.value)!=null&&_.media_item&&"artists"in((B=o.value)==null?void 0:B.media_item)&&((U=o.value)==null?void 0:U.media_item.artists.length)>0?(m(),b("div",Zo,C((x=o.value)==null?void 0:x.media_item.artists[0].name),1)):(H=(W=o.value)==null?void 0:W.streamdetails)!=null&&H.stream_title?(m(),b("div",Jo,C((L=(z=o.value)==null?void 0:z.streamdetails)==null?void 0:L.stream_title),1)):(g=(T=o.value)==null?void 0:T.media_item)!=null&&g.metadata.description?(m(),b("div",en,C((k=o.value)==null?void 0:k.media_item.metadata.description),1)):i.player.active_source!=i.player.player_id?(m(),b("div",tn,C(i.$t("external_source_active",[i.player.active_source])),1)):((S=n.value)==null?void 0:S.items)==0?(m(),b("div",an,C(i.$t("queue_empty")),1)):V("",!0):(m(),b("div",jo,C(i.$t("off")),1))])]}),append:p(()=>[i.player.powered?V("",!0):(m(),I(ie,{key:0,variant:"icon",class:"player-command-btn",onClick:r[0]||(r[0]=d=>{e(P).playerCommandPowerToggle(i.player.player_id),e(a).activePlayerId=i.player.player_id})},{default:p(()=>[c(N,{size:e(j)({breakpoint:"phone"})?"30":"32"},{default:p(()=>r[2]||(r[2]=[R("mdi-power")])),_:1},8,["size"])]),_:1})),i.player.powered?(m(),I(Vt,{key:1,player:i.player,"player-queue":n.value,class:"player-command-btn",style:{height:"50px"},"icon-style":"circle-outline",onClick:r[1]||(r[1]=se(d=>{i.player.state!=e(je).PLAYING&&(e(a).activePlayerId=i.player.player_id)},["stop"]))},null,8,["player","player-queue"])):V("",!0),i.showMenuButton?(m(),I(ie,{key:2,variant:"icon",class:"player-command-btn",style:{"margin-right":"-5px"},onClick:se(s,["stop"])},{default:p(()=>[c(N,{size:e(j)({breakpoint:"phone"})?"30":"32"},{default:p(()=>r[3]||(r[3]=[R("mdi-dots-vertical")])),_:1},8,["size"])]),_:1})):V("",!0)]),_:1}),i.showVolumeControl&&i.player.powered?(m(),I(Ca,{key:0,player:i.player,"show-sync-controls":i.showSyncControls,"hide-heading-row":!0,"show-sub-players":i.showSubPlayers,"allow-wheel":!1},null,8,["player","show-sync-controls","show-sub-players"])):V("",!0)]),_:1},8,["class"]))}}),Yt=ae(ln,[["__scopeId","data-v-1ee32b53"]]),on=D({__name:"PlayerSelect",setup(t){const l=q(!1),n=$(()=>Object.values(P.players).filter(d=>s(d,!1,!1,!1)).sort((d,f)=>{var u;return d.display_name.toUpperCase()>((u=f.display_name)==null?void 0:u.toUpperCase())?1:-1}).sort((d,f)=>Number(f.powered)-Number(d.powered)));ee(()=>a.activePlayerId,d=>{d&&localStorage.setItem("mass.LastPlayerId",d)}),ee(()=>P.players,d=>{d&&!a.activePlayer&&i()},{deep:!0}),ee(()=>P.state,d=>{d.value!=Ua.CONNECTED&&(a.activePlayerId=void 0)},{deep:!0});function o(d,f=!1){a.activePlayerId==d.player_id?l.value=!l.value:(l.value=!1,a.activePlayerId=d.player_id),f&&(a.showPlayersMenu=!1)}Te(()=>{i()});const s=function(d,f=!0,u=!1,h=!1){return!(!d.enabled||!h&&d.hidden||!f&&!d.available||d.synced_to&&!u||!u&&d.type==Se.PLAYER&&d.active_group)},i=function(){if(a.activePlayer&&s(a.activePlayer,!1,!1,!1))return;const d=r();d&&(a.activePlayerId=d.player_id)},r=function(){const d=localStorage.getItem("mass.LastPlayerId");if(d&&d in P.players&&s(P.players[d],!1,!1,!1))return P.players[d]};return(d,f)=>(m(),b(F,null,[c(na,{modelValue:e(a).showPlayersMenu,"onUpdate:modelValue":f[0]||(f[0]=u=>e(a).showPlayersMenu=u)},null,8,["modelValue"]),e(a).showPlayersMenu?(m(),I(da,{key:0,modelValue:e(a).showPlayersMenu,"onUpdate:modelValue":f[2]||(f[2]=u=>e(a).showPlayersMenu=u),location:"right",app:"",clipped:"",temporary:"",touchless:"",width:500,style:{"z-index":"99999"},"z-index":"99999"},{default:p(()=>[Q("div",null,[c(Re,{class:"title"},{default:p(()=>[Q("b",null,C(d.$t("players")),1)]),_:1}),c(ie,{variant:"icon",style:{float:"right",top:"-40px",height:"0"},onClick:f[1]||(f[1]=u=>e(a).showPlayersMenu=!1)},{default:p(()=>[c(N,{size:"30"},{default:p(()=>f[3]||(f[3]=[R("mdi-window-close")])),_:1})]),_:1}),c(Qe,{flat:"",style:{margin:"5px 5px"}},{default:p(()=>[(m(!0),b(F,null,oe(n.value.filter(u=>u.powered),u=>(m(),I(Yt,{id:u.player_id,key:u.player_id,player:u,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&u.player_id==e(a).activePlayerId,"show-sync-controls":u.supported_features.includes(e(ve).SET_MEMBERS),onClick:h=>o(u)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1}),c(Ql,{variant:"accordion",flat:"",class:"expansion"},{default:p(()=>[c($l,{title:d.$t("powered_off_players"),style:{padding:"0"}},{default:p(()=>[c(Sl,{style:{padding:"0"}},{default:p(()=>[c(Qe,{flat:""},{default:p(()=>[(m(!0),b(F,null,oe(n.value.filter(u=>!u.powered),u=>(m(),I(Yt,{id:u.player_id,key:u.player_id,player:u,"show-volume-control":!1,"show-menu-button":!0,"show-sub-players":!1,"show-sync-controls":!1,onClick:h=>o(u)},null,8,["id","player","onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})])]),_:1},8,["modelValue"])):V("",!0)],64))}}),nn=ae(on,[["__scopeId","data-v-b2d8bc7d"]]);function sn(t={}){const{immediate:l=!1,onNeedRefresh:n,onOfflineReady:o,onRegistered:s,onRegisteredSW:i,onRegisterError:r}=t;let d,f,u;const h=async(v=!0)=>{await f,u==null||u()};async function y(){if("serviceWorker"in navigator){if(d=await Fa(async()=>{const{Workbox:v}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:v}},[],import.meta.url).then(({Workbox:v})=>new v("./sw.js",{scope:"./",type:"classic"})).catch(v=>{r==null||r(v)}),!d)return;u=()=>{d==null||d.messageSkipWaiting()};{let v=!1;const w=()=>{v=!0,d==null||d.addEventListener("controlling",_=>{_.isUpdate&&window.location.reload()}),n==null||n()};d.addEventListener("installed",_=>{typeof _.isUpdate>"u"?typeof _.isExternal<"u"&&_.isExternal?w():!v&&(o==null||o()):_.isUpdate||o==null||o()}),d.addEventListener("waiting",w)}d.register({immediate:l}).then(v=>{i?i("./sw.js",v):s==null||s(v)}).catch(v=>{r==null||r(v)})}}return f=y(),h}function rn(t={}){const{immediate:l=!0,onNeedRefresh:n,onOfflineReady:o,onRegistered:s,onRegisteredSW:i,onRegisterError:r}=t,d=q(!1),f=q(!1);return{updateServiceWorker:sn({immediate:l,onNeedRefresh(){d.value=!0,n==null||n()},onOfflineReady(){f.value=!0,o==null||o()},onRegistered:s,onRegisteredSW:i,onRegisterError:r}),offlineReady:f,needRefresh:d}}const un={key:0,class:"pwa-toast",role:"alert"},dn={class:"message"},cn={key:0},mn={key:1},vn=D({__name:"ReloadPrompt",setup(t){const{offlineReady:l,needRefresh:n,updateServiceWorker:o}=rn(),s=async()=>{l.value=!1,n.value=!1};return(i,r)=>e(l)||e(n)?(m(),b("div",un,[Q("div",dn,[e(l)?(m(),b("span",cn," App ready to work offline ")):(m(),b("span",mn," New content available, click on reload button to update. "))]),e(n)?(m(),b("button",{key:0,onClick:r[0]||(r[0]=d=>e(o)())},"Reload")):V("",!0),Q("button",{onClick:s},"Close")])):V("",!0)}}),yn=de({...ke(),...pl({fullHeight:!0}),...Oe()},"VApp"),pn=ce()({name:"VApp",props:yn(),setup(t,l){let{slots:n}=l;const o=et(t),{layoutClasses:s,getLayoutItem:i,items:r,layoutRef:d}=fl(t),{rtlClasses:f}=vt();return me(()=>{var u;return c("div",{ref:d,class:["v-application",o.themeClasses.value,s.value,f.value,t.class],style:[t.style]},[c("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:i,items:r,theme:o}}}),fn=D({__name:"Default",props:{showFullscreenPlayer:{type:Boolean},player:{},frameless:{type:Boolean}},setup(t){const l=t,n=q(!1),{showFullscreenPlayer:o,player:s,frameless:i}=Oa(l);return ee(s,r=>{var f;if(!r)return;const d=(f=Object.values(P.players).find(u=>u.player_id===r||u.display_name.toLowerCase()===r.toLowerCase()))==null?void 0:f.player_id;d&&(a.activePlayerId=d)},{immediate:!0}),ee(o,r=>{a.showFullscreenPlayer=!!r},{immediate:!0}),ee(i,r=>{r&&(n.value=!0)},{immediate:!0}),(r,d)=>(m(),b(F,null,[e(a).connected?(m(),I(pn,{key:0},{default:p(()=>[n.value?(m(),I(Nt,{key:0})):(m(),b(F,{key:1},[c(Ro),c(nn),c(Nt)],64))]),_:1})):(m(),I(na,{key:1,class:"centeredoverlay",persistent:"","model-value":!e(a).connected},{default:p(()=>[Q("div",null,[c(nl,{color:"primary",indeterminate:"",size:"64"})])]),_:1},8,["model-value"])),e(a).isInStandaloneMode?(m(),I(vn,{key:2})):V("",!0)],64))}}),Hn=ae(fn,[["__scopeId","data-v-38eb0900"]]);export{Hn as default};
