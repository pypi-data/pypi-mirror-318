import{p as R,f as H,g as N,i as K,n as y,a5 as W,k as E,aH as q,c as V,r as J,q as $,x as z,y as i,z as d,G as a,I as j,a2 as I,ae as Q,aC as A,A as m,D as n,M as _,B,J as o,aD as Z,S as k,K as u,aA as x,ak as D,aI as ee,R as g,al as T,X as M,U as te}from"./index-BZzpipaW.js";import{M as ie,h as ae}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_f3b3d521_lang-CKhroe-Q.js";import{_ as oe}from"./ProviderIcon.vue_vue_type_script_setup_true_lang-Cra-dQfP.js";import{B as se,L as ne}from"./ListItem-CpVWhMKp.js";import{V as le}from"./VCheckbox-DGbOjerY.js";import{g as re,u as me,e as L,f as ue}from"./VMenu-NpNzdaEd.js";import{a as de,p as pe,d as ce,r as fe,z as ye,A as ve,i as ke,w,V as he}from"./VListItem-C2OBJevj.js";import{_ as be}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U=Symbol.for("vuetify:v-item-group"),ge=R({...de(),...pe({selectedClass:"v-item--selected"}),...ce(),...H()},"VItemGroup"),we=N()({name:"VItemGroup",props:ge(),emits:{"update:modelValue":t=>!0},setup(t,v){let{slots:l}=v;const{themeClasses:s}=K(t),{isSelected:p,select:f,next:h,prev:b,selected:e}=fe(t,U);return()=>y(t.tag,{class:["v-item-group",s.value,t.class],style:t.style},{default:()=>{var r;return[(r=l.default)==null?void 0:r.call(l,{isSelected:p,select:f,next:h,prev:b,selected:e.value})]}})}}),C=N()({name:"VItem",props:ye(),emits:{"group:selected":t=>!0},setup(t,v){let{slots:l}=v;const{isSelected:s,select:p,toggle:f,selectedClass:h,value:b,disabled:e}=ve(t,U);return()=>{var r;return(r=l.default)==null?void 0:r.call(l,{isSelected:s.value,selectedClass:h.value,select:p,toggle:f,value:b.value,disabled:e.value})}}}),Ve=R({id:String,text:String,...W(re({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),O=N()({name:"VTooltip",props:Ve(),emits:{"update:modelValue":t=>!0},setup(t,v){let{slots:l}=v;const s=E(t,"modelValue"),{scopeId:p}=me(),f=q(),h=V(()=>t.id||`v-tooltip-${f}`),b=J(),e=V(()=>t.location.split(" ").length>1?t.location:t.location+" center"),r=V(()=>t.origin==="auto"||t.origin==="overlap"||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center"),c=V(()=>t.transition?t.transition:s.value?"scale-transition":"fade-transition"),X=V(()=>$({"aria-describedby":h.value},t.activatorProps));return ke(()=>{const Y=L.filterProps(t);return y(L,$({ref:b,class:["v-tooltip",t.class],style:t.style,id:h.value},Y,{modelValue:s.value,"onUpdate:modelValue":P=>s.value=P,transition:c.value,absolute:!0,location:e.value,origin:r.value,persistent:!0,role:"tooltip",activatorProps:X.value,_disableGlobalStack:!0},p),{activator:l.activator,default:function(){var G;for(var P=arguments.length,F=new Array(P),S=0;S<P;S++)F[S]=arguments[S];return((G=l.default)==null?void 0:G.call(l,...F))??t.text}})}),ue({},b)}}),Be=z({__name:"FavoriteButton",props:{item:{}},setup(t){const v=t;return(l,s)=>{var p;return i(),d(se,$(v,{variant:"list",icon:(p=l.item)!=null&&p.favorite?"mdi-heart":"mdi-heart-outline",title:l.$t("tooltip.favorite"),onClick:[s[0]||(s[0]=f=>a(j).toggleFavorite(l.item)),s[1]||(s[1]=I(()=>{},["prevent"])),s[2]||(s[2]=I(()=>{},["stop"]))]}),null,16,["icon","title"])}}}),Ce={key:0,class:"media-thumb listitem-media-thumb"},Ie={key:1,class:"media-thumb listitem-media-thumb"},Pe={key:0},Se={key:1},Ae={key:0},_e={key:0,class:"line-clamp-1"},Te={key:1},$e={key:0},De={key:1},Ne={key:2},Fe={key:3},Ge={key:4},Me={key:0},Le={key:1},Oe={key:2},Re={key:3},ze={key:5},Ue={key:4},Xe={key:5},Ye={class:"text-caption",style:{"padding-right":"10px","padding-left":"10px"}},He=z({__name:"ListviewItem",props:{item:{},showTrackNumber:{type:Boolean,default:!0},showDiscNumber:{type:Boolean,default:!0},showPosition:{type:Boolean,default:!0},showProvider:{type:Boolean,default:!0},showAlbum:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showFavorite:{type:Boolean,default:!1},showDuration:{type:Boolean,default:!0},isSelected:{type:Boolean},isDisabled:{type:Boolean,default:!1},isAvailable:{type:Boolean,default:!0},showCheckboxes:{type:Boolean,default:!1},showDetails:{type:Boolean}},emits:["menu","click","select"],setup(t,{emit:v}){const{t:l}=Q(),s=t,p=V(()=>{if(!("provider_mappings"in s.item))return"";for(const e of s.item.provider_mappings)if(e.audio_format&&e.audio_format.content_type!=null&&[A.DSF,A.FLAC,A.AIFF,A.WAV].includes(e.audio_format.content_type)&&(e.audio_format.sample_rate>48e3||e.audio_format.bit_depth>16))return`${e.audio_format.sample_rate/1e3}kHz ${e.audio_format.bit_depth} bits`;return""}),f=v,h=function(e){const r="clientX"in e?e.clientX:e.touches[0].clientX,c="clientY"in e?e.clientY:e.touches[0].clientY;f("menu",s.item,r,c)},b=function(e){s.showCheckboxes||f("click",s.item,e.clientX,e.clientY)};return(e,r)=>(i(),d(ne,{link:"","show-menu-btn":e.showMenu,class:M({unavailable:!e.isAvailable}),onClick:I(b,["stop"]),onMenu:I(h,["stop"])},{prepend:m(()=>[e.showCheckboxes?(i(),n("div",Ce,[y(le,{"model-value":e.isSelected,onClick:r[0]||(r[0]=I(()=>{},["stop"])),"onUpdate:modelValue":r[1]||(r[1]=c=>{c!=null&&f("select",e.item,c)})},null,8,["model-value"])])):(i(),n("div",Ie,[y(ie,{size:"50",item:e.isAvailable?e.item:void 0},null,8,["item"])]))]),title:m(()=>[e.item.media_type==a(_).FOLDER?(i(),n("span",Pe,[B("span",null,o(a(Z)(e.item,a(l))),1)])):(i(),n("span",Se,[k(o(e.item.name)+" ",1),"version"in e.item&&e.item.version?(i(),n("span",Ae,"("+o(e.item.version)+")",1)):u("",!0)])),e.item&&e.item.metadata?(i(),d(a(O),{key:2,location:"bottom"},{activator:m(({props:c})=>[a(x)(e.item.metadata.explicit||!1)?(i(),d(w,$({key:0},c,{icon:"mdi-alpha-e-box",width:"35"}),null,16)):u("",!0)]),default:m(()=>[B("span",null,o(e.$t("tooltip.explicit")),1)]),_:1})):u("",!0)]),subtitle:m(()=>{var c;return[e.item.media_type==a(_).TRACK&&"provider_mappings"in e.item?(i(),n("div",_e,[y(we,null,{default:m(()=>["artists"in e.item?(i(),d(C,{key:0},{default:m(()=>[k(o(a(D)(e.item.artists,2)),1)]),_:1})):u("",!0),e.showAlbum&&"album"in e.item&&e.item.album?(i(),d(C,{key:1},{default:m(()=>[k(" • "+o(e.item.album.name),1)]),_:1})):u("",!0),e.showDiscNumber&&"disc_number"in e.item&&e.item.disc_number?(i(),d(C,{key:2},{default:m(()=>[y(w,{style:{"margin-left":"5px"},icon:"md:album"}),k(" "+o(e.item.disc_number),1)]),_:1})):u("",!0),e.showTrackNumber&&"track_number"in e.item&&e.item.track_number?(i(),d(C,{key:3},{default:m(()=>[y(w,{style:{"margin-left":"5px"},icon:"mdi-music-circle-outline"}),k(" "+o(e.item.track_number),1)]),_:1})):e.showPosition&&"position"in e.item&&e.item.position?(i(),d(C,{key:4},{default:m(()=>[y(w,{style:{"margin-left":"5px"},icon:"mdi-music-circle-outline"}),k(" "+o(e.item.position),1)]),_:1})):u("",!0)]),_:1})])):e.item.media_type==a(_).ALBUM&&"year"in e.item?(i(),n("div",Te,[e.item.album_type!=a(ee).UNKNOWN?(i(),n("span",$e,o(e.$t("album_type."+e.item.album_type))+" • ",1)):u("",!0),B("span",null,o(a(D)(e.item.artists)),1),e.item.year?(i(),n("span",De," • "+o(e.item.year),1)):u("",!0)])):"artists"in e.item&&e.item.artists?(i(),n("div",Ne,o(a(D)(e.item.artists)),1)):"owner"in e.item&&e.item.owner?(i(),n("div",Fe,o(e.item.owner),1)):"metadata"in e.item&&((c=e.item.metadata)!=null&&c.description)?(i(),n("div",Ge,[a(g)("bp6")?(i(),n("span",Me,o(a(T)(e.item.metadata.description,300)),1)):a(g)("bp4")?(i(),n("span",Le,o(a(T)(e.item.metadata.description,200)),1)):a(g)("bp3")?(i(),n("span",Oe,o(a(T)(e.item.metadata.description,150)),1)):(i(),n("span",Re,o(a(T)(e.item.metadata.description,80)),1))])):"media_type"in e.item&&!e.item.provider_mappings?(i(),n("div",ze,o(e.$t(e.item.media_type)),1)):u("",!0)]}),append:m(()=>[p.value?(i(),d(he,{key:0,src:a(ae),width:"30",class:M(e.$vuetify.theme.current.dark?"hiresicondark":"hiresicon")},{default:m(()=>[y(a(O),{activator:"parent",location:"bottom"},{default:m(()=>[k(o(p.value),1)]),_:1})]),_:1},8,["src","class"])):u("",!0),a(g)("bp2")&&e.showProvider?(i(),d(oe,{key:1,domain:e.item.media_type==a(_).PLAYLIST?e.item.provider_mappings[0].provider_domain:e.item.provider,size:24},null,8,["domain"])):u("",!0),"fully_played"in e.item&&e.item.fully_played?(i(),d(w,{key:2,title:e.$t("item_fully_played")},{default:m(()=>r[2]||(r[2]=[k("mdi-check")])),_:1},8,["title"])):"resume_position_ms"in e.item&&e.item.resume_position_ms?(i(),d(w,{key:3,title:e.$t("item_in_progress")},{default:m(()=>r[3]||(r[3]=[k("mdi-clock-fast")])),_:1},8,["title"])):u("",!0),a(g)("bp3")&&"favorite"in e.item&&e.showFavorite&&!e.$vuetify.display.mobile?(i(),n("div",Ue,[y(Be,{item:e.item},null,8,["item"])])):u("",!0),e.showDuration&&"duration"in e.item&&e.item.duration&&a(g)("bp0")?(i(),n("div",Xe,[B("div",null,[B("span",Ye,o(a(te)(e.item.duration)),1)])])):u("",!0)]),_:1},8,["show-menu-btn","class"]))}}),xe=be(He,[["__scopeId","data-v-4a51bdc5"]]);export{xe as L,O as V,Be as _,C as a,we as b};
