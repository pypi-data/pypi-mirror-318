[tool.poetry]
name = "ai_sec"
version = "0.0.9"
description = "Linting, security scanning, and reporting on infrastructure code and Kubernetes config"
authors = ["Darren Rabbitt"]
maintainers = ["Darren Rabbitt <dev@darrenrabbitt.com>"]
license = "MIT"
readme = "README.md"
packages = [
    { include = "ai_sec", from = "src" }
]

# Add include section to explicitly include config.yaml
include = [
    "src/ai_sec/resources/config.yaml",
    "CHANGELOG.md"  # Explicitly include changelog in package
]

[tool.poetry.dependencies]
python = ">=3.10,<4.0"
PyYAML = "^6.0.2"
Jinja2 = "^3.1.4"
checkov = "^3.2.267"
dash = "^2.18.0"
pandas = "^2.2.2"
dash-bootstrap-components = "^1.6.0"
click = "^8.1.7"
ijson = "^3.3.0"
aiofiles = "^24.1.0"
pytest-flask = "^1.3.0"

[tool.poetry.scripts]
ai_sec = "ai_sec.linter_runner:cli"
# Uncomment if you need multiple command names
# inf_lint = "infra_lint.linter_runner:cli"
# ilint = "infra_lint.linter_runner:cli"

[tool.poetry.dev-dependencies]
black = "^24.8.0"
flake8 = "^7.1.1"
bandit = "^1.7.9"
pytest = "^7.2.2"
pytest-mock = "^3.10.0"
mypy = "^1.11.0"
safety = "^3.2.4"
pylint = "^3.2.6"
types-pyyaml = "^6.0.12.20240724"
# Only keep these if you're using boto3 and requests
types-boto3 = "^1.0.2"
types-requests = "^2.28.11.7"

[tool.mypy]
files = "src, tests"
ignore_missing_imports = true
disallow_untyped_calls = false
disallow_untyped_defs = false
disallow_untyped_decorators = false
warn_return_any = true
warn_unused_ignores = true