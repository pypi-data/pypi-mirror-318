import{_ as Le}from"./CJqfg7Hb.js";import{r as Ee,_ as Ue,a as ze,b as Oe,c as Me,d as Ie,e as Be}from"./DbEm5X69.js";import{h as H,i as ve,j as w,r as E,k as B,l as ne,m as _e,o as l,c as p,b as v,F,n as ke,q as De,t as A,s as Ne,v as R,w as L,d as o,x as me,y as we,z as Pe,A as We,B as Ce,C as I,D as s,E as d,G as re,H as qe,I as xe,J as Ae,K as fe,L as Fe,P as q,M as pe,e as ge,N as le,O as He,Q as Je,R as Ge,S as Qe,T as Ye,U as Xe,V as Ze,W as Ke}from"./Dg-Ek6CB.js";import{_ as et}from"./QfQegNp2.js";import{_ as tt}from"./B_UDeon3.js";import{T as ae,l as he,d as be,s as te,_ as st}from"./C_ocPs0J.js";import{_ as ot}from"./Bm5Ns7ss.js";import{u as rt}from"./DhTiGYW7.js";import"./mY4hQQXE.js";import"./CwskLdYD.js";const ye={width:800,height:400,priceScale:{borderColor:"rgba(197, 203, 206, 1)"},timeScale:{borderColor:"rgba(197, 203, 206, 1)",timeVisible:!0,secondsVisible:!1}},lt={chart:{layout:{background:{color:"#ffffff"},textColor:"rgba(33, 56, 77, 1)"},grid:{vertLines:{color:"#f1f1f1",visible:!0},horzLines:{color:"#f1f1f1",visible:!0}},priceScale:{borderColor:"rgba(197, 203, 206, 0.6)"},timeScale:{borderColor:"rgba(197, 203, 206, 0.6)",timeVisible:!0,secondsVisible:!1}}},at={chart:{layout:{background:{color:"#333333"},textColor:"#D1D5DB"},grid:{vertLines:{color:"#525252",visible:!0},horzLines:{color:"#525252",visible:!0}},priceScale:{borderColor:"#525252"},timeScale:{borderColor:"#525252",timeVisible:!0,secondsVisible:!1}}},nt={class:"mt-2"},it={class:"ml-2"},ut=H({__name:"EquityCurve",props:{data:{}},setup(U){const r=ve(),i=w(()=>r.value),b=E();let m=null,n=[];const u=U;B(u.data,f=>{}),B(i,f=>{y(f)}),ne(async()=>{await h()});async function h(){ye.width=b.value.clientWidth,m=ae(b.value,ye);for(const f of u.data){const V=m.addLineSeries({lineWidth:2});V.setData(f.data),n.push(V)}m.timeScale().fitContent(),y(i.value)}_e(()=>{_()});function _(){m!==null&&(m.remove(),m=null),n&&(n=[])}function y(f){m===null||n===null||m.applyOptions(f==="light"?lt.chart:at.chart)}return(f,V)=>(l(),p(F,null,[v("div",{ref_key:"chartContainer",ref:b,class:"rounded overflow-hidden border-2 border-gray-100 dark:border-gray-600"},null,512),v("div",nt,[(l(!0),p(F,null,ke(f.data,C=>(l(),p("span",{key:C.name,class:"text-xs mr-2 rounded bg-white dark:bg-gray-700 p-1"},[v("span",{class:"inline-block",style:De({backgroundColor:C.color,width:"25px",height:"10px"})},null,4),v("span",it,A(C.name),1)]))),128))])],64))}}),dt={class:"flex items-center justify-between"},ct=H({__name:"FullscreenModal",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(U){const r=Ne(U,"modelValue");return(i,b)=>{const m=we,n=Pe,u=We;return l(),R(u,{modelValue:r.value,"onUpdate:modelValue":b[1]||(b[1]=h=>r.value=h),fullscreen:""},{default:L(()=>[o(n,{ui:{base:"h-full flex flex-col",rounded:"",divide:"divide-y divide-gray-100 dark:divide-gray-800",body:{base:"grow"}}},{header:L(()=>[v("div",dt,[v("div",null,[me(i.$slots,"title")]),o(m,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",class:"-my-1",onClick:b[0]||(b[0]=h=>r.value=!1)})])]),default:L(()=>[me(i.$slots,"default")]),_:3})]),_:3},8,["modelValue"])}}}),mt={class:"flex flex-col h-full border dark:border-gray-800"},ft={key:0},pt=H({__name:"BacktestCandlesChart",props:{form:{},results:{}},setup(U){const r=ve(),i=U,b=E(),m=E([]);let n=null,u=null;const h=[],_=[],y=w(()=>Ce().params.id),f=w(()=>I.extraChartLines[y.value].find(k=>k.symbol===i.results.selectedRoute.symbol)),V=w(()=>r.value);B(V,k=>{G(k)}),B(()=>i.results.selectedRoute.symbol,()=>{M(),setTimeout(async()=>{await C()},100)}),ne(async()=>{setTimeout(async()=>{await C()},200)});async function C(){var N,Y,X,Z;te.width=b.value.clientWidth,te.height=b.value.clientHeight-Object.keys(f.value.charts).length*150,n=ae(b.value,te),n.applyOptions({rightPriceScale:{borderColor:V.value==="light"?"#d1d4dc":"#4b5563",minimumWidth:80},watermark:{visible:!0,fontSize:16,horzAlign:"left",vertAlign:"bottom",color:"#888",text:`${i.results.selectedRoute.symbol} • ${i.results.selectedRoute.timeframe}`}}),u=n.addCandlestickSeries();const k=I.candles[y.value].find(c=>c.symbol===i.results.selectedRoute.symbol).candles;u.setData(k),u.setMarkers(I.orders[y.value].find(c=>c.symbol===i.results.selectedRoute.symbol).orders);const S=(Y=(N=I.lines[y.value])==null?void 0:N.find(c=>c.symbol===i.results.selectedRoute.symbol))==null?void 0:Y.lines;if(S)for(const c of Object.keys(S)){const g=S[c];n.addLineSeries({lineWidth:1,title:c}).setData(g.data)}const T=(Z=(X=I.horizontalLines[y.value])==null?void 0:X.find(c=>c.symbol===i.results.selectedRoute.symbol))==null?void 0:Z.lines;if(T)for(const c of Object.keys(T)){const j=T[c];u.createPriceLine(j)}n.timeScale().fitContent();const Q=new Set;Object.keys(f.value.charts).forEach((c,g)=>{const j={...te};j.width=m.value[g].clientWidth,j.height=150;const $=ae(m.value[g],j);h.push($),Object.keys(f.value.charts[c]).forEach(z=>{var K,ee;const e=$.addLineSeries({lineWidth:1,title:z}),t=(ee=(K=I.horizontalExtraLines[y.value])==null?void 0:K.find(P=>P.symbol===i.results.selectedRoute.symbol))==null?void 0:ee.lines[c];if(t&&!Q.has(c)){for(const P of Object.keys(t)){const se=t[P];e.createPriceLine(se)}Q.add(c)}e.setData(f.value.charts[c][z].data),_.push(e)}),$.applyOptions({rightPriceScale:{borderColor:V.value==="light"?"#d1d4dc":"#4b5563",minimumWidth:80},watermark:{visible:!0,fontSize:16,horzAlign:"left",vertAlign:"bottom",color:"#888",text:c}}),$.timeScale().subscribeVisibleLogicalRangeChange(z=>{n.timeScale().setVisibleLogicalRange(z)}),g!==Object.keys(f.value.charts).length-1&&$.timeScale().applyOptions({visible:!1})}),n.subscribeCrosshairMove(c=>{const g=J(u,c);Object.keys(f.value.charts).forEach((j,$)=>{D(h[$],_[$],g)})}),Object.keys(f.value.charts).forEach((c,g)=>{h[g].subscribeCrosshairMove(j=>{const $=J(_[g],j);D(n,u,$),h.forEach((z,e)=>{e!==g&&D(z,_[e],$)})})}),n.timeScale().subscribeVisibleLogicalRangeChange(c=>{h.forEach(g=>{g.timeScale().setVisibleLogicalRange(c)})}),G(V.value),h.length>0&&n.timeScale().applyOptions({visible:!1})}_e(()=>{M()});function J(k,S){return S.time&&S.seriesData.get(k)||null}function D(k,S,T){if(T){k.setCrosshairPosition(T.value,T.time,S);return}k.clearCrosshairPosition()}function M(){n!==null&&(n.remove(),n=null),u!==null&&(u=null),h.length>0&&(h.forEach(k=>{k.remove()}),h.length=0),_.length>0&&(_.length=0)}function G(k){n!==null&&(n.applyOptions(k==="light"?he.chart:be.chart),h.forEach(S=>{S.applyOptions(k==="light"?he.chart:be.chart)}))}return(k,S)=>(l(),p("div",mt,[v("div",{ref_key:"chartContainer",ref:b,class:"rounded overflow-hidden flex-grow"},null,512),s(f)&&Object.keys(s(f).charts).length?(l(),p("div",ft,[(l(!0),p(F,null,ke(Object.keys(s(f).charts),T=>(l(),p("div",{key:T,ref_for:!0,ref_key:"extraChartsRef",ref:m,class:"relative border-t-[1.5px] dark:border-gray-800"}))),128))])):d("",!0)]))}}),gt=["value"],ht={key:1,class:"flex flex-col items-center justify-center select-none mt-[10%]"},bt=["textContent"],yt={class:"mt-8"},vt={class:"mt-8"},_t={class:"mt-4"},kt=["href"],wt={key:1,class:"mx-auto container mt-8"},Ct={key:0},xt=v("h3",{class:"text-lg font-semibold"},"Missing Required Warmup Candles",-1),Vt={class:"mb-4 mt-4"},St=v("strong",{class:"font-bold"},"warmup candles",-1),$t={class:"flex items-center select-none flex-1 my-4"},Rt={class:"grid grid-cols-1 gap-6 mt-8"},Tt={key:1,class:"w-full mx-auto"},jt={key:4,class:"text-yellow-500 border-yellow-400 bg-yellow-50 dark:bg-gray-700 dark:text-yellow-400 mt-16 text-center text-2xl rounded border-2 border-dashed dark:border-gray-800 py-16 select-none"},Lt={key:0},Et={key:0},Ut=["href"],zt=["href"],Ot=["href"],Mt=["href"],It=["href"],Bt={key:6,class:"my-4"},Dt={key:1},Nt=H({__name:"BacktestTab",props:{form:{},results:{}},setup(U){const r=U,i=E([]),b=E(!1),m=E(!1),n=re().authToken,u=E(qe().public.apiBaseUrl),h=E(!1),_=w(()=>Ce().params.id),y=xe(),f=re(),V=Ae(),C=E([]),J=w(()=>f.jesseSupportedTimeframes.map(e=>({label:e,value:e}))),D=w(()=>r.form.routes.map(e=>({label:`${e.strategy} • ${e.symbol}`,value:e})));r.results.selectedRoute=r.form.routes[0],ne(async()=>{await f.initiate(),!r.form.exchange&&f.backtestingExchangeNames.length&&(r.form.exchange=f.backtestingExchangeNames[0]),(!r.results.showResults&&r.form.exchange||!C.value.length)&&await M()});async function M(){if(r.form.exchange)try{C.value.length||(C.value=await f.getExchangeSupportedSymbols(r.form.exchange));for(let e=0;e<r.form.routes.length;e++)C.value.includes(r.form.routes[e].symbol)||(r.form.routes[e].symbol=C.value[0]);if(r.form.data_routes.length>0)for(let e=0;e<r.form.data_routes.length;e++)C.value.includes(r.form.data_routes[e].symbol)||(r.form.data_routes[e].symbol=C.value[0])}catch(e){console.error("Error updating supported symbols:",e)}}B(()=>r.form.exchange,async(e,t)=>{e!==t&&(C.value=[],await M())});const{cancel:G,rerun:k,newBacktest:S}=y;function T(e){if(i.value.length){for(let t=0;t<i.value.length;t++)le("error",i.value[t]);return}y.start(e)}const Q=e=>{if(i.value.length){for(let t=0;t<i.value.length;t++)le("error",i.value[t]);return}y.startInNewTab(e)},N=w(()=>{let e=`/download/backtest/log/${r.results.generalInfo.session_id}?token=${n}`;return u.value!=="/"&&(e=u.value+e),e}),Y=w(()=>{let e=`/download/backtest/tradingview/${r.results.generalInfo.session_id}?token=${n}`;return u.value!=="/"&&(e=u.value+e),e}),X=w(()=>{let e=`/download/backtest/full-reports/${r.results.generalInfo.session_id}?token=${n}`;return u.value!=="/"&&(e=u.value+e),e}),Z=w(()=>{let e=`/download/backtest/csv/${r.results.generalInfo.session_id}?token=${n}`;return u.value!=="/"&&(e=u.value+e),e}),c=w(()=>{let e=`/download/backtest/json/${r.results.generalInfo.session_id}?token=${n}`;return u.value!=="/"&&(e=u.value+e),e}),g=w(()=>y.formattedMetrics(_.value).length>0),j=w(()=>fe.remainingTimeText(r.results.progressbar.estimated_remaining_seconds));function $(){navigator.clipboard.writeText(r.results.infoLogs),le("success","Logs copied successfully"),m.value=!0,setTimeout(()=>{m.value=!1},3e3)}B(()=>r.form.start_date,e=>{r.form.finish_date<e&&(r.form.finish_date=e)});async function z(){const e=y.missingCandlesErrors[_.value];e&&(V.forms.push({id:fe.uuid(),exchange:e.exchange,symbol:e.symbol,start_date:e.start_date,executing:!1,waiting:!1,progressbar:{current:0,estimated_remaining_seconds:0},exception:{error:"",traceback:""},alert:{message:"",type:""}}),await He("/candles/"),await V.start(V.forms[V.forms.length-1].id))}return(e,t)=>{const K=Ue,ee=Je,P=ze,x=we,se=Oe,ie=et,W=Ge,ue=tt,Ve=Me,de=Qe,O=Ye,Se=ut,ce=Xe,$e=ct,oe=ot,Re=st,Te=Ie,je=Be;return l(),p(F,null,[e.form.debug_mode?(l(),R(ee,{key:0,modelValue:e.results.logsModal,"onUpdate:modelValue":t[0]||(t[0]=a=>e.results.logsModal=a),title:"Logs"},{default:L(()=>[o(K,{logs:e.results.infoLogs},null,8,["logs"])]),buttons:L(()=>[v("button",{class:"ml-2 p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none",onClick:$},[s(m)?(l(),R(s(Fe),{key:0,class:"h-6 w-6","aria-hidden":"true"})):d("",!0),!s(m)&&e.results.infoLogs.length!=0?(l(),R(s(Ee),{key:1,class:"h-6 w-6","aria-hidden":"true"})):d("",!0)]),v("input",{id:"copy-info-logs",type:"hidden",value:e.results.infoLogs},null,8,gt)]),_:1},8,["modelValue"])):d("",!0),e.results.executing&&!e.results.showResults?(l(),p("div",ht,[v("div",null,[o(P,{progress:e.results.progressbar.current},null,8,["progress"])]),e.results.exception.error?d("",!0):(l(),p("h3",{key:0,class:"mt-8 animate-pulse",textContent:A(s(j))},null,8,bt)),v("div",yt,[v("div",vt,[o(x,{color:"gray",ui:{color:{gray:{solid:"text-rose-500 dark:text-rose-400"}}},class:"w-64 flex justify-center",icon:"i-heroicons-no-symbol",size:"xl",variant:"solid",label:"Cancel",trailing:!1,onClick:t[1]||(t[1]=a=>s(G)((e._.provides[q]||e.$route).params.id))})]),v("div",_t,[e.form.debug_mode&&e.results.exception.error&&e.results.progressbar.current!==0?(l(),p("a",{key:0,href:s(N),class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[o(x,{icon:"i-heroicons-document-arrow-down",label:"Debugging Logs",color:"gray",size:"xl",variant:"solid",trailing:!1,class:"w-64 flex justify-center"})],8,kt)):d("",!0)])]),e.results.exception.error&&e.results.executing?(l(),p("div",wt,[o(se,{modelValue:s(b),"onUpdate:modelValue":t[2]||(t[2]=a=>pe(b)?b.value=a:null),title:e.results.exception.error,content:e.results.exception.traceback,mode:"backtest","debug-mode":e.form.debug_mode},null,8,["modelValue","title","content","debug-mode"])])):d("",!0)])):d("",!0),o(je,null,{left:L(()=>[!e.results.executing&&!e.results.showResults?(l(),p("div",Ct,[s(y).missingCandlesErrors[s(_)]?(l(),R(ie,{key:0,icon:"i-heroicons-exclamation-triangle",color:"rose",variant:"soft",class:"mb-4"},{title:L(()=>[xt]),description:L(()=>[v("p",Vt,[ge(" Your strategy requires "),St,ge(' for "'+A(s(y).missingCandlesErrors[s(_)].symbol)+'" on "'+A(s(y).missingCandlesErrors[s(_)].exchange)+'" starting from "'+A(s(y).missingCandlesErrors[s(_)].start_date)+'". These candles are needed for proper strategy initialization. ',1)]),o(x,{label:"Import Required Candles",icon:"i-heroicons-arrow-down-tray",onClick:z})]),_:1})):d("",!0),o(W,{class:"mb-4",title:"Exchange"}),o(ue,{modelValue:e.form.exchange,"onUpdate:modelValue":t[3]||(t[3]=a=>e.form.exchange=a),placeholder:"Select an exchange...",searchable:"",options:s(re)().backtestingExchangeNames,size:"lg",class:"mt-2 mb-16",onChange:M},null,8,["modelValue","options"]),o(Ve,{"total-routes-error":s(i),timeframes:s(J),form:e.form,results:e.results,symbols:s(C),mode:"backtest"},null,8,["total-routes-error","timeframes","form","results","symbols"]),o(W,{class:"mt-16",title:"Duration"}),v("div",$t,[o(de,{modelValue:e.form.start_date,"onUpdate:modelValue":t[4]||(t[4]=a=>e.form.start_date=a),type:"date",variant:"outline",size:"lg",class:"w-full mr-2"},null,8,["modelValue"]),o(de,{modelValue:e.form.finish_date,"onUpdate:modelValue":t[5]||(t[5]=a=>e.form.finish_date=a),type:"date",variant:"outline",size:"lg",class:"w-full ml-2"},null,8,["modelValue"])]),o(W,{class:"mt-16",title:"Options"}),v("div",Rt,[o(O,{modelValue:e.form.debug_mode,"onUpdate:modelValue":t[6]||(t[6]=a=>e.form.debug_mode=a),title:"Debug Mode",description:"Logs every step of the execution. Very helpful for debugging your strategy but takes a lot longer to execute"},null,8,["modelValue"]),o(O,{modelValue:e.form.export_chart,"onUpdate:modelValue":t[7]||(t[7]=a=>e.form.export_chart=a),title:"Generate Interactive Charts",description:"Generate interactive charts for backtest results with details."},null,8,["modelValue"]),o(O,{modelValue:e.form.export_tradingview,"onUpdate:modelValue":t[8]||(t[8]=a=>e.form.export_tradingview=a),title:"Export Tradingview",description:"Exports the executed trades in a format accepted by TradingView's Pine Editor. Useful to look at the executed orders on their chart."},null,8,["modelValue"]),o(O,{modelValue:e.form.export_full_reports,"onUpdate:modelValue":t[9]||(t[9]=a=>e.form.export_full_reports=a),title:"Export QuantStats reports",description:"Exports a HTML file generated by QuantStats library."},null,8,["modelValue"]),o(O,{modelValue:e.form.export_csv,"onUpdate:modelValue":t[10]||(t[10]=a=>e.form.export_csv=a),title:"Export CSV",description:"Exports executed trades in a CSV format"},null,8,["modelValue"]),o(O,{modelValue:e.form.export_json,"onUpdate:modelValue":t[11]||(t[11]=a=>e.form.export_json=a),title:"Export JSON",description:"Exports executed trades in a JSON format"},null,8,["modelValue"]),o(O,{modelValue:e.form.fast_mode,"onUpdate:modelValue":t[12]||(t[12]=a=>e.form.fast_mode=a),title:"Fast Mode",description:"Runs the backtest faster by using an improved algorithm. This is supposed to yield the same results; however, it's currently experimental, which is why it's an option."},null,8,["modelValue"]),o(O,{modelValue:e.form.benchmark,"onUpdate:modelValue":t[13]||(t[13]=a=>e.form.benchmark=a),title:"Benchmark",description:"If enabled, the backtest will compare the performance of the strategy against the buy and hold strategy of the market."},null,8,["modelValue"])])])):d("",!0),e.results.showResults?(l(),p("div",Tt,[v("div",null,[s(g)?(l(),R(W,{key:0,class:"mb-4",title:"Equity Curve"})):d("",!0),s(g)?(l(),R(Se,{key:1,data:e.results.charts.equity_curve},null,8,["data"])):d("",!0),s(g)?(l(),R(W,{key:2,class:"mt-16 mb-4",title:"Performance"})):d("",!0),s(g)?(l(),R(ce,{key:3,data:s(y).formattedMetrics(s(_))},null,8,["data"])):d("",!0),s(g)?d("",!0):(l(),p("div",jt," No trades were executed via this strategy! "))]),o($e,{modelValue:s(h),"onUpdate:modelValue":t[15]||(t[15]=a=>pe(h)?h.value=a:null)},{title:L(()=>[o(ue,{modelValue:e.results.selectedRoute,"onUpdate:modelValue":t[14]||(t[14]=a=>e.results.selectedRoute=a),"value-attribute":"value",options:s(D)},null,8,["modelValue","options"])]),default:L(()=>[o(pt,{results:e.results,form:e.form},null,8,["results","form"])]),_:1},8,["modelValue"])])):d("",!0)]),right:L(()=>[e.results.executing?d("",!0):(l(),p("div",Lt,[e.results.showResults?(l(),p("div",Et,[o(x,{class:"w-full flex justify-center",icon:"i-heroicons-arrow-path",size:"xl",variant:"solid",label:"Rerun",trailing:!1,onClick:t[16]||(t[16]=a=>s(k)((e._.provides[q]||e.$route).params.id))}),o(x,{class:"w-full flex justify-center mt-4",color:"green",icon:"i-heroicons-arrow-uturn-left",size:"xl",variant:"solid",label:"New session",trailing:!1,onClick:t[17]||(t[17]=a=>s(S)((e._.provides[q]||e.$route).params.id))}),e.form.debug_mode?(l(),p("a",{key:0,href:s(N),target:"_blank",class:""},[o(x,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"Debugging Logs",trailing:!1})],8,Ut)):d("",!0),e.form.export_chart?(l(),R(x,{key:1,class:"mt-4 flex justify-center items-center btn-secondary text-center",color:"gray",icon:"i-heroicons-chart-bar",size:"xl",block:"",variant:"solid",label:"View charts",trailing:!1,onClick:t[18]||(t[18]=a=>h.value=!0)})):d("",!0),e.form.export_full_reports&&s(g)?(l(),p("a",{key:2,href:s(X),target:"_blank",class:"flex justify-center items-center btn-secondary text-center w-full"},[o(x,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"QuantStats Report",trailing:!1})],8,zt)):d("",!0),e.form.export_csv&&s(g)?(l(),p("a",{key:3,href:s(Z),target:"_blank",class:"flex justify-center items-center btn-secondary text-center w-full"},[o(x,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"CSV",trailing:!1})],8,Ot)):d("",!0),e.form.export_json&&s(g)?(l(),p("a",{key:4,href:s(c),target:"_blank",class:"flex justify-center items-center btn-secondary text-center w-full"},[o(x,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"JSON",trailing:!1})],8,Mt)):d("",!0),e.form.export_tradingview&&s(g)?(l(),p("a",{key:5,href:s(Y),target:"_blank",class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[o(x,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"TradingView Pine Editor",trailing:!1})],8,It)):d("",!0),e.results.showResults&&e.results.alert&&e.results.alert.message?(l(),p("div",Bt,[o(ie,{color:"teal",icon:"i-heroicons-check-circle",variant:"soft",title:e.results.alert.message,"close-button":{icon:"i-heroicons-x-mark-20-solid",color:"white",variant:"link"},onClose:t[19]||(t[19]=a=>e.results.alert.message="")},null,8,["title"])])):d("",!0),o(oe,{class:"mt-8 mb-4",size:"lg",label:"General Info"}),o(Re,{data:e.results.info},null,8,["data"]),o(oe,{class:"mt-8 mb-4",size:"lg",label:"Routes"}),o(Te,{data:e.results.routes_info,"header-items":["Symbol","Timeframe","Strategy"],header:""},null,8,["data"]),e.results.hyperparameters.length?(l(),R(oe,{key:7,class:"mt-8 mb-4",size:"lg",label:"Hyperparameters"})):d("",!0),e.results.hyperparameters.length?(l(),R(ce,{key:8,data:e.results.hyperparameters},null,8,["data"])):d("",!0)])):(l(),p("div",Dt,[o(x,{class:"w-full flex justify-center",icon:"i-heroicons-bolt",size:"xl",variant:"solid",label:"Start",trailing:!1,onClick:t[20]||(t[20]=a=>T((e._.provides[q]||e.$route).params.id))}),o(x,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-plus",size:"xl",variant:"solid",label:"Start in a new tab",trailing:!1,onClick:t[21]||(t[21]=a=>Q((e._.provides[q]||e.$route).params.id))})]))]))]),_:1})],64)}}}),Pt={class:"w-full"},Zt=H({__name:"[id]",setup(U){rt({title:"Backtest - Jesse"});const r=xe(),i=w(()=>r.tabs),b=w(()=>Ze().params.id),m=w(()=>{if(!i.value[b.value]){const n=Object.keys(i.value);if(n.length>0){const u=i.value[n[0]];return Ke().push(`/backtest/${u.id}`),u}}return i.value[b.value]});return Object.keys(i.value).length===0&&r.addTab(),(n,u)=>{const h=Le,_=Nt;return l(),p(F,null,[v("div",Pt,[o(h,{"current-tab":m.value?m.value.id:null,tabs:i.value,mode:"backtest",onClose:s(r).closeTab,onCancel:s(r).cancel},null,8,["current-tab","tabs","onClose","onCancel"])]),m.value?(l(),R(_,{key:0,form:m.value.form,results:m.value.results},null,8,["form","results"])):d("",!0)],64)}}});export{Zt as default};
