[tox]
envlist = py37, py38, py39, py310, py311, lint, type
isolated_build = True
requires =
    tox>=4.2
    virtualenv>=20.24.5

[testenv]
deps =
    pytest>=7.0
    pytest-asyncio>=0.21.0
    pytest-cov>=4.0
    aioresponses>=0.7.4
    responses>=0.23.0
commands =
    pytest {posargs:tests} --cov=fireapi --cov-report=term-missing

[testenv:lint]
skip_install = true
deps =
    ruff>=0.1.6
commands =
    ruff check .
    ruff format --check .

[testenv:type]
deps =
    mypy>=1.7.0
    types-requests>=2.31.0
    pydantic>=1.8.2,<3.0.0
commands =
    mypy src/fireapi

[testenv:format]
skip_install = true
deps =
    ruff>=0.1.6
commands =
    ruff check --fix .
    ruff format .

[pytest]
asyncio_mode = auto
testpaths = tests
python_files = test_*.py
python_functions = test_*
