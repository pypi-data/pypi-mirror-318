<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Try a cellular automata &#8212; cromosim  documentation</title>
    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/scrolls.css?v=4cde0d18" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/theme_extras.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Make a microscopic simulation" href="example_micro.html" />
    <link rel="prev" title="Understand one-dimensional microscopic models : the Follow-the-Leader model" href="example_ftl.html" /> 
  </head><body>
    <div id="content">
      <div class="header">
        <h1 class="heading"><a href="index.html"
          title="back to the documentation overview"><span>Try a cellular automata</span></a></h1>
      </div>
      <div class="relnav" role="navigation" aria-label="Related">
        <a href="example_ftl.html">&laquo; Understand one-dimensional microscopic models : the Follow-the-Leader model</a> |
        <a href="#">Try a cellular automata</a>
        | <a href="example_micro.html">Make a microscopic simulation &raquo;</a>
      </div>
      <div id="contentwrapper">
        <div role="main">
        
  <section id="try-a-cellular-automata">
<h1>Try a cellular automata<a class="headerlink" href="#try-a-cellular-automata" title="Link to this heading">Â¶</a></h1>
<p>Cellular Automata models are microscopic in the sense that agents are
represented individually, but they are also natively discrete in both
space and time. In space, agents are identified to particles located in
cells of a fixed cartesian grid, with an exclusion rule (one particle at
most in each cell). In time, the evolution consists of a succession of steps,
i.e. positions of particles are updated one after the other, in a stochastic
manner.</p>
<p>Reference : <a class="reference internal" href="index.html#mf2018" id="id1"><span>[MF2018]</span></a> Chapter 5.</p>
<p>A cellular automata example can be found in the directory</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">cromosim</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">cellular_automata</span><span class="o">/</span>
</pre></div>
</div>
<p>and can be run with:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">cellular_automata</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">json</span> <span class="nb">input</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>Results:</p>
<br>
<br>
<video style="display:block; margin: 0 auto;" controls poster="_static/cellular_automata.png" width="50%" height="auto">
   <source src="_static/cellular_automata.mp4" />
</video>
<br>
<div align=center>
  <i>Cellular automata : simple example, an evacuation</i>
</div>
<br>
<br>
<img src="_static/cellular_automata_paths.png" alt="cellular automata : paths of all individuals" style="margin:0px auto;display:block" width="50%" height="auto"/>
<br>
<div align=center>
  <i>The lines represent the paths of all the individuals</i>
</div>
<br>
<br><p>Code:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">cromosim</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">cellular_automata</span><span class="o">/</span><span class="n">cellular_automata</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Authors:</span>
<span class="c1">#     Sylvain Faure &lt;sylvain.faure@universite-paris-saclay.fr&gt;</span>
<span class="c1">#     Bertrand Maury &lt;bertrand.maury@universite-paris-saclay.fr&gt;</span>
<span class="c1">#</span>
<span class="c1">#      cromosim/examples/cellular_automata/cellular_automata.py</span>
<span class="c1">#      python cellular_automata.py --json input.json</span>
<span class="c1">#</span>
<span class="c1"># License: GPL</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">optparse</span> <span class="kn">import</span> <span class="n">OptionParser</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.patches</span> <span class="kn">import</span> <span class="n">Circle</span><span class="p">,</span> <span class="n">Ellipse</span><span class="p">,</span> <span class="n">Rectangle</span><span class="p">,</span> <span class="n">Polygon</span>
<span class="kn">from</span> <span class="nn">matplotlib.lines</span> <span class="kn">import</span> <span class="n">Line2D</span>

<span class="kn">from</span> <span class="nn">cromosim.ca</span> <span class="kn">import</span> <span class="n">plot_people_according_to_initial_door_distance</span>
<span class="kn">from</span> <span class="nn">cromosim.ca</span> <span class="kn">import</span> <span class="n">exit</span><span class="p">,</span> <span class="n">plot_people_paths</span>
<span class="kn">from</span> <span class="nn">cromosim.ca</span> <span class="kn">import</span> <span class="n">sequential_update</span><span class="p">,</span> <span class="n">parallel_update</span>
<span class="kn">from</span> <span class="nn">cromosim.domain</span> <span class="kn">import</span> <span class="n">Domain</span>
<span class="kn">from</span> <span class="nn">cromosim.domain</span> <span class="kn">import</span> <span class="n">Destination</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    python cellular_automata.py --json input.json</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">parser</span> <span class="o">=</span> <span class="n">OptionParser</span><span class="p">(</span><span class="n">usage</span><span class="o">=</span><span class="s2">&quot;usage: %prog [options] filename&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s2">&quot;%prog 1.0&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s1">&#39;--json&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;jsonfilename&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;input.json&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
                  <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Input json filename&quot;</span><span class="p">)</span>
<span class="n">opt</span><span class="p">,</span> <span class="n">remainder</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===&gt; JSON filename = &quot;</span><span class="p">,</span> <span class="n">opt</span><span class="o">.</span><span class="n">jsonfilename</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">opt</span><span class="o">.</span><span class="n">jsonfilename</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">input</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Failed to load json file &quot;</span><span class="p">,</span> <span class="n">opt</span><span class="o">.</span><span class="n">jsonfilename</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check its content : &quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;(https://fr.wikipedia.org/wiki/JavaScript_Object_Notation)&quot;</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get parameters from json file :</span>
<span class="sd">    For the domain :</span>
<span class="sd">    |    name: string</span>
<span class="sd">    |        Domain name</span>
<span class="sd">    |    background: string</span>
<span class="sd">    |        Image file used as background</span>
<span class="sd">    |    px: float</span>
<span class="sd">    |        Pixel size in meters (also called space step)</span>
<span class="sd">    |    width: integer</span>
<span class="sd">    |        Domain width (equal to the width of the background image)</span>
<span class="sd">    |    height: integer</span>
<span class="sd">    |        Domain height (equal to the height of the background image)</span>
<span class="sd">    |    wall_colors: list</span>
<span class="sd">    |        rgb colors for walls</span>
<span class="sd">    |        [ [r,g,b],[r,g,b],... ]</span>
<span class="sd">    |    shape_lines: list</span>
<span class="sd">    |        Used to define the Matplotlib Polyline shapes,</span>
<span class="sd">    |        [</span>
<span class="sd">    |          {</span>
<span class="sd">    |             &quot;xx&quot;: [x0,x1,x2,...],</span>
<span class="sd">    |             &quot;yy&quot;: [y0,y1,y2,...],</span>
<span class="sd">    |             &quot;linewidth&quot;: float,</span>
<span class="sd">    |             &quot;outline_color&quot;: [r,g,b],</span>
<span class="sd">    |             &quot;fill_color&quot;: [r,g,b]</span>
<span class="sd">    |          },...</span>
<span class="sd">    |        ]</span>
<span class="sd">    |    shape_circles: list</span>
<span class="sd">    |        Used to define the Matplotlib Circle shapes,</span>
<span class="sd">    |        [</span>
<span class="sd">    |           {</span>
<span class="sd">    |             &quot;center_x&quot;: float,</span>
<span class="sd">    |             &quot;center_y&quot;: float,</span>
<span class="sd">    |             &quot;radius&quot;: float,</span>
<span class="sd">    |             &quot;outline_color&quot;: [r,g,b],</span>
<span class="sd">    |             &quot;fill_color&quot;: [r,g,b]</span>
<span class="sd">    |            },...</span>
<span class="sd">    |        ]</span>
<span class="sd">    |    shape_ellipses: list</span>
<span class="sd">    |        Used to define the Matplotlib Ellipse shapes,</span>
<span class="sd">    |        [</span>
<span class="sd">    |           {</span>
<span class="sd">    |             &quot;center_x&quot;: float,</span>
<span class="sd">    |             &quot;center_y&quot;: float,</span>
<span class="sd">    |             &quot;width&quot;: float,</span>
<span class="sd">    |             &quot;height&quot;: float,</span>
<span class="sd">    |             &quot;angle_in_degrees_anti-clockwise&quot;: float (degre),</span>
<span class="sd">    |             &quot;outline_color&quot;: [r,g,b],</span>
<span class="sd">    |             &quot;fill_color&quot;: [r,g,b]</span>
<span class="sd">    |            },...</span>
<span class="sd">    |        ]</span>
<span class="sd">    |    shape_rectangles: list</span>
<span class="sd">    |        Used to define the Matplotlib Rectangle shapes,</span>
<span class="sd">    |        [</span>
<span class="sd">    |           {</span>
<span class="sd">    |             &quot;bottom_left_x&quot;: float,</span>
<span class="sd">    |             &quot;bottom_left_y&quot;: float,</span>
<span class="sd">    |             &quot;width&quot;: float,</span>
<span class="sd">    |             &quot;height&quot;: float,</span>
<span class="sd">    |             &quot;angle_in_degrees_anti-clockwise&quot;: float (degre),</span>
<span class="sd">    |             &quot;outline_color&quot;: [r,g,b],</span>
<span class="sd">    |             &quot;fill_color&quot;: [r,g,b]</span>
<span class="sd">    |            },...</span>
<span class="sd">    |        ]</span>
<span class="sd">    |    shape_polygons: list</span>
<span class="sd">    |        Used to define the Matplotlib Polygon shapes,</span>
<span class="sd">    |        [</span>
<span class="sd">    |           {</span>
<span class="sd">    |             &quot;xy&quot;: float,</span>
<span class="sd">    |             &quot;outline_color&quot;: [r,g,b],</span>
<span class="sd">    |             &quot;fill_color&quot;: [r,g,b]</span>
<span class="sd">    |            },...</span>
<span class="sd">    |        ]</span>
<span class="sd">    |    destinations: list</span>
<span class="sd">    |        Used to define the Destination objects,</span>
<span class="sd">    |        [</span>
<span class="sd">    |           {</span>
<span class="sd">    |             &quot;name&quot;: string,</span>
<span class="sd">    |             &quot;colors&quot;: [[r,g,b],...],</span>
<span class="sd">    |             &quot;excluded_colors&quot;: [[r,g,b],...],</span>
<span class="sd">    |             &quot;desired_velocity_from_color&quot;: [] or</span>
<span class="sd">    |             [</span>
<span class="sd">    |                {</span>
<span class="sd">    |                   &quot;color&quot;: [r,g,b],</span>
<span class="sd">    |                   &quot;gradient&quot;: [ex,ey]</span>
<span class="sd">    |                },...</span>
<span class="sd">    |             ],</span>
<span class="sd">    |             &quot;velocity_scale&quot;: float,</span>
<span class="sd">    |             &quot;next_destination&quot;: null or string,</span>
<span class="sd">    |             &quot;next_domain&quot;: null or string,</span>
<span class="sd">    |             &quot;next_transit_box&quot;: null or [[x0,y0],...,[x3,y3]]</span>
<span class="sd">    |            },...</span>
<span class="sd">    |        ]</span>
<span class="sd">    |--------------------</span>
<span class="sd">    prefix: string</span>
<span class="sd">        Folder name to store the results</span>
<span class="sd">    seed: integer</span>
<span class="sd">        Random seed which can be used to reproduce a random selection if &gt;0</span>
<span class="sd">    Np: integer</span>
<span class="sd">        Number of persons</span>
<span class="sd">    kappa: float</span>
<span class="sd">        Parameter for Static Floor Field</span>
<span class="sd">    Tf: float</span>
<span class="sd">        Final time</span>
<span class="sd">    dt: float</span>
<span class="sd">        Time step</span>
<span class="sd">    drawper: integer</span>
<span class="sd">        The results will be displayed every &quot;drawper&quot; iterations</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">jdom</span> <span class="o">=</span> <span class="nb">input</span><span class="p">[</span><span class="s2">&quot;domain&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===&gt; JSON data used to build the domain : &quot;</span><span class="p">,</span> <span class="n">jdom</span><span class="p">)</span>
<span class="n">prefix</span> <span class="o">=</span> <span class="nb">input</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">]</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
<span class="n">seed</span> <span class="o">=</span> <span class="nb">input</span><span class="p">[</span><span class="s2">&quot;seed&quot;</span><span class="p">]</span>
<span class="n">Np</span> <span class="o">=</span> <span class="nb">input</span><span class="p">[</span><span class="s2">&quot;Np&quot;</span><span class="p">]</span>
<span class="n">update_strategy</span> <span class="o">=</span> <span class="nb">input</span><span class="p">[</span><span class="s2">&quot;update_strategy&quot;</span><span class="p">]</span>
<span class="n">kappa</span> <span class="o">=</span> <span class="nb">input</span><span class="p">[</span><span class="s2">&quot;kappa&quot;</span><span class="p">]</span>
<span class="n">Tf</span> <span class="o">=</span> <span class="nb">input</span><span class="p">[</span><span class="s2">&quot;Tf&quot;</span><span class="p">]</span>
<span class="n">dt</span> <span class="o">=</span> <span class="nb">input</span><span class="p">[</span><span class="s2">&quot;dt&quot;</span><span class="p">]</span>
<span class="n">drawper</span> <span class="o">=</span> <span class="nb">input</span><span class="p">[</span><span class="s2">&quot;drawper&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===&gt; Number of persons = &quot;</span><span class="p">,</span> <span class="n">Np</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===&gt; Final time, Tf = &quot;</span><span class="p">,</span> <span class="n">Tf</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===&gt; Time step, dt = &quot;</span><span class="p">,</span> <span class="n">dt</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===&gt; To draw the results each drawper iterations, drawper = &quot;</span><span class="p">,</span> <span class="n">drawper</span><span class="p">)</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build the Domain objects</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">jname</span> <span class="o">=</span> <span class="n">jdom</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===&gt; Build domain &quot;</span><span class="p">,</span> <span class="n">jname</span><span class="p">)</span>
<span class="n">jbg</span> <span class="o">=</span> <span class="n">jdom</span><span class="p">[</span><span class="s2">&quot;background&quot;</span><span class="p">]</span>
<span class="n">jpx</span> <span class="o">=</span> <span class="n">jdom</span><span class="p">[</span><span class="s2">&quot;px&quot;</span><span class="p">]</span>
<span class="n">jwidth</span> <span class="o">=</span> <span class="n">jdom</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span>
<span class="n">jheight</span> <span class="o">=</span> <span class="n">jdom</span><span class="p">[</span><span class="s2">&quot;height&quot;</span><span class="p">]</span>
<span class="n">jwall_colors</span> <span class="o">=</span> <span class="n">jdom</span><span class="p">[</span><span class="s2">&quot;wall_colors&quot;</span><span class="p">]</span>
<span class="k">if</span> <span class="p">(</span><span class="n">jbg</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="n">dom</span> <span class="o">=</span> <span class="n">Domain</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">jname</span><span class="p">,</span> <span class="n">pixel_size</span><span class="o">=</span><span class="n">jpx</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">jwidth</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">jheight</span><span class="p">,</span>
                 <span class="n">wall_colors</span><span class="o">=</span><span class="n">jwall_colors</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">dom</span> <span class="o">=</span> <span class="n">Domain</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">jname</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="n">jbg</span><span class="p">,</span> <span class="n">pixel_size</span><span class="o">=</span><span class="n">jpx</span><span class="p">,</span>
                 <span class="n">wall_colors</span><span class="o">=</span><span class="n">jwall_colors</span><span class="p">)</span>
<span class="c1"># To add lines : Line2D(xdata, ydata, linewidth)</span>
<span class="k">for</span> <span class="n">sl</span> <span class="ow">in</span> <span class="n">jdom</span><span class="p">[</span><span class="s2">&quot;shape_lines&quot;</span><span class="p">]:</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">Line2D</span><span class="p">(</span><span class="n">sl</span><span class="p">[</span><span class="s2">&quot;xx&quot;</span><span class="p">],</span> <span class="n">sl</span><span class="p">[</span><span class="s2">&quot;yy&quot;</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="n">sl</span><span class="p">[</span><span class="s2">&quot;linewidth&quot;</span><span class="p">])</span>
    <span class="n">dom</span><span class="o">.</span><span class="n">add_shape</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">outline_color</span><span class="o">=</span><span class="n">sl</span><span class="p">[</span><span class="s2">&quot;outline_color&quot;</span><span class="p">],</span>
                  <span class="n">fill_color</span><span class="o">=</span><span class="n">sl</span><span class="p">[</span><span class="s2">&quot;fill_color&quot;</span><span class="p">])</span>
<span class="c1"># To add circles : Circle( (center_x,center_y), radius )</span>
<span class="k">for</span> <span class="n">sc</span> <span class="ow">in</span> <span class="n">jdom</span><span class="p">[</span><span class="s2">&quot;shape_circles&quot;</span><span class="p">]:</span>
    <span class="n">circle</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">((</span><span class="n">sc</span><span class="p">[</span><span class="s2">&quot;center_x&quot;</span><span class="p">],</span> <span class="n">sc</span><span class="p">[</span><span class="s2">&quot;center_y&quot;</span><span class="p">]),</span> <span class="n">sc</span><span class="p">[</span><span class="s2">&quot;radius&quot;</span><span class="p">])</span>
    <span class="n">dom</span><span class="o">.</span><span class="n">add_shape</span><span class="p">(</span><span class="n">circle</span><span class="p">,</span> <span class="n">outline_color</span><span class="o">=</span><span class="n">sc</span><span class="p">[</span><span class="s2">&quot;outline_color&quot;</span><span class="p">],</span>
                  <span class="n">fill_color</span><span class="o">=</span><span class="n">sc</span><span class="p">[</span><span class="s2">&quot;fill_color&quot;</span><span class="p">])</span>
<span class="c1"># To add ellipses : Ellipse( (center_x,center_y), width, height,</span>
<span class="c1">#                            angle_in_degrees_anti-clockwise )</span>
<span class="k">for</span> <span class="n">se</span> <span class="ow">in</span> <span class="n">jdom</span><span class="p">[</span><span class="s2">&quot;shape_ellipses&quot;</span><span class="p">]:</span>
    <span class="n">ellipse</span> <span class="o">=</span> <span class="n">Ellipse</span><span class="p">((</span><span class="n">se</span><span class="p">[</span><span class="s2">&quot;center_x&quot;</span><span class="p">],</span> <span class="n">se</span><span class="p">[</span><span class="s2">&quot;center_y&quot;</span><span class="p">]),</span>
                      <span class="n">se</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">],</span> <span class="n">se</span><span class="p">[</span><span class="s2">&quot;height&quot;</span><span class="p">],</span>
                      <span class="n">se</span><span class="p">[</span><span class="s2">&quot;angle_in_degrees_anti-clockwise&quot;</span><span class="p">])</span>
    <span class="n">dom</span><span class="o">.</span><span class="n">add_shape</span><span class="p">(</span><span class="n">ellipse</span><span class="p">,</span> <span class="n">outline_color</span><span class="o">=</span><span class="n">se</span><span class="p">[</span><span class="s2">&quot;outline_color&quot;</span><span class="p">],</span>
                  <span class="n">fill_color</span><span class="o">=</span><span class="n">se</span><span class="p">[</span><span class="s2">&quot;fill_color&quot;</span><span class="p">])</span>
<span class="c1"># To add rectangles : Rectangle( (bottom_left_x,bottom_left_y), width, height,</span>
<span class="c1">#                                 angle_in_degrees_anti-clockwise )</span>
<span class="k">for</span> <span class="n">sr</span> <span class="ow">in</span> <span class="n">jdom</span><span class="p">[</span><span class="s2">&quot;shape_rectangles&quot;</span><span class="p">]:</span>
    <span class="n">rectangle</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">((</span><span class="n">sr</span><span class="p">[</span><span class="s2">&quot;bottom_left_x&quot;</span><span class="p">],</span> <span class="n">sr</span><span class="p">[</span><span class="s2">&quot;bottom_left_y&quot;</span><span class="p">]),</span>
                          <span class="n">sr</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">],</span> <span class="n">sr</span><span class="p">[</span><span class="s2">&quot;height&quot;</span><span class="p">],</span>
                          <span class="n">sr</span><span class="p">[</span><span class="s2">&quot;angle_in_degrees_anti-clockwise&quot;</span><span class="p">])</span>
    <span class="n">dom</span><span class="o">.</span><span class="n">add_shape</span><span class="p">(</span><span class="n">rectangle</span><span class="p">,</span> <span class="n">outline_color</span><span class="o">=</span><span class="n">sr</span><span class="p">[</span><span class="s2">&quot;outline_color&quot;</span><span class="p">],</span>
                  <span class="n">fill_color</span><span class="o">=</span><span class="n">sr</span><span class="p">[</span><span class="s2">&quot;fill_color&quot;</span><span class="p">])</span>
<span class="c1"># To add polygons : Polygon( [[x0,y0],[x1,y1],...] )</span>
<span class="k">for</span> <span class="n">spo</span> <span class="ow">in</span> <span class="n">jdom</span><span class="p">[</span><span class="s2">&quot;shape_polygons&quot;</span><span class="p">]:</span>
    <span class="n">polygon</span> <span class="o">=</span> <span class="n">Polygon</span><span class="p">(</span><span class="n">spo</span><span class="p">[</span><span class="s2">&quot;xy&quot;</span><span class="p">])</span>
    <span class="n">dom</span><span class="o">.</span><span class="n">add_shape</span><span class="p">(</span><span class="n">polygon</span><span class="p">,</span> <span class="n">outline_color</span><span class="o">=</span><span class="n">spo</span><span class="p">[</span><span class="s2">&quot;outline_color&quot;</span><span class="p">],</span>
                  <span class="n">fill_color</span><span class="o">=</span><span class="n">spo</span><span class="p">[</span><span class="s2">&quot;fill_color&quot;</span><span class="p">])</span>
<span class="c1"># To build the domain : background + shapes</span>
<span class="n">dom</span><span class="o">.</span><span class="n">build_domain</span><span class="p">()</span>
<span class="c1"># To add all the available destinations</span>
<span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">dd</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">jdom</span><span class="p">[</span><span class="s2">&quot;destinations&quot;</span><span class="p">]):</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">dd</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;door&quot;</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===&gt; EXIT : For the moment the cellular automata implemented does&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;     not make it possible to direct individuals to several&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;     destinations, nor to use several Domain object. The json&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;     file must therefore only contain one domain and one destination&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;     necessarily called </span><span class="se">\&quot;</span><span class="s2">door</span><span class="se">\&quot;</span><span class="s2">.&quot;</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
    <span class="n">desired_velocity_from_color</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">gg</span> <span class="ow">in</span> <span class="n">dd</span><span class="p">[</span><span class="s2">&quot;desired_velocity_from_color&quot;</span><span class="p">]:</span>
        <span class="n">desired_velocity_from_color</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">gg</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">],</span> <span class="n">gg</span><span class="p">[</span><span class="s2">&quot;gradient&quot;</span><span class="p">])))</span>
    <span class="n">dest</span> <span class="o">=</span> <span class="n">Destination</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">dd</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="n">colors</span><span class="o">=</span><span class="n">dd</span><span class="p">[</span><span class="s2">&quot;colors&quot;</span><span class="p">],</span>
                       <span class="n">excluded_colors</span><span class="o">=</span><span class="n">dd</span><span class="p">[</span><span class="s2">&quot;excluded_colors&quot;</span><span class="p">],</span>
                       <span class="n">desired_velocity_from_color</span><span class="o">=</span><span class="n">desired_velocity_from_color</span><span class="p">,</span>
                       <span class="n">velocity_scale</span><span class="o">=</span><span class="n">dd</span><span class="p">[</span><span class="s2">&quot;velocity_scale&quot;</span><span class="p">],</span>
                       <span class="n">next_destination</span><span class="o">=</span><span class="n">dd</span><span class="p">[</span><span class="s2">&quot;next_destination&quot;</span><span class="p">],</span>
                       <span class="n">next_domain</span><span class="o">=</span><span class="n">dd</span><span class="p">[</span><span class="s2">&quot;next_domain&quot;</span><span class="p">],</span>
                       <span class="n">next_transit_box</span><span class="o">=</span><span class="n">dd</span><span class="p">[</span><span class="s2">&quot;next_transit_box&quot;</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===&gt; Destination : &quot;</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
    <span class="n">dom</span><span class="o">.</span><span class="n">add_destination</span><span class="p">(</span><span class="n">dest</span><span class="p">)</span>

    <span class="n">dom</span><span class="o">.</span><span class="n">plot_desired_velocity</span><span class="p">(</span><span class="n">dd</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="nb">id</span><span class="o">=</span><span class="mi">10</span><span class="o">+</span><span class="n">j</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===&gt; Domain : &quot;</span><span class="p">,</span> <span class="n">dom</span><span class="p">)</span>

<span class="n">dom</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">dom</span><span class="o">.</span><span class="n">plot_wall_dist</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>


<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialization</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># Current time</span>
<span class="n">t</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">people</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">MaskedArray</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">dom</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="n">dom</span><span class="o">.</span><span class="n">width</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">),</span>
                           <span class="n">mask</span><span class="o">=</span><span class="n">dom</span><span class="o">.</span><span class="n">wall_mask</span><span class="p">)</span>

<span class="c1"># Number of cells</span>
<span class="n">Nc</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">height</span><span class="o">*</span><span class="n">dom</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">dom</span><span class="o">.</span><span class="n">wall_id</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===&gt; Number of cells = &quot;</span><span class="p">,</span> <span class="n">Nc</span><span class="p">)</span>

<span class="c1"># People initialisation taking to account masked positions</span>
<span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">seed</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===&gt; seed  = &quot;</span><span class="p">,</span> <span class="n">rng</span><span class="o">.</span><span class="n">get_state</span><span class="p">()[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>

<span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">if</span> <span class="p">(</span><span class="n">Nc</span> <span class="o">&lt;</span> <span class="n">dom</span><span class="o">.</span><span class="n">height</span><span class="o">*</span><span class="n">dom</span><span class="o">.</span><span class="n">width</span><span class="p">):</span>
    <span class="n">imin</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">wall_id</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">imax</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">wall_id</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span>
    <span class="n">jmin</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">wall_id</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">jmax</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">wall_id</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">imin</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">imax</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">height</span>
    <span class="n">jmin</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">jmax</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">width</span>
<span class="k">while</span> <span class="p">(</span><span class="n">s</span> <span class="o">!=</span> <span class="n">Np</span><span class="p">):</span>
    <span class="c1"># people.data[rng.randint(imin,imax+1,Np-s),</span>
    <span class="c1">#             rng.randint(jmin+int(0.25*(jmax-jmin)),</span>
    <span class="c1">#                         jmax-int(0.25*(jmax-jmin))+1,Np-s)] = 1</span>
    <span class="n">people</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">rng</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">imin</span><span class="p">,</span> <span class="n">imax</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">Np</span><span class="o">-</span><span class="n">s</span><span class="p">),</span> <span class="n">rng</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">jmin</span><span class="p">,</span> <span class="n">jmax</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">Np</span><span class="o">-</span><span class="n">s</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">people</span><span class="p">)</span>
<span class="n">ind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">people</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">people_ij</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">Np</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>  <span class="c1"># i(0&lt;=i&lt;=height-1) j(0&lt;=j&lt;=width-1)</span>
<span class="n">people_ij</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ind</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">people_ij</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ind</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="c1"># print(&quot;===&gt; Init : people_ij = &quot;,people_ij)</span>

<span class="c1"># Array to store the results</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">people_ij</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">Np</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="c1"># Static Floor Field</span>
<span class="n">weight</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">kappa</span><span class="o">*</span><span class="n">dom</span><span class="o">.</span><span class="n">destinations</span><span class="p">[</span><span class="s2">&quot;door&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">distance</span><span class="p">)</span>

<span class="n">cc</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nb">iter</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># plot_people_according_to_current_door_distance(1, people, dom,</span>
<span class="c1">#     savefig=True, filename=prefix+&#39;/cellular_automata_&#39;+str(iter).zfill(6)+&#39;.png&#39;)</span>
<span class="n">plot_people_according_to_initial_door_distance</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">people</span><span class="p">,</span> <span class="n">dom</span><span class="p">,</span>
                                               <span class="n">results</span><span class="p">,</span> <span class="n">savefig</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                               <span class="n">filename</span><span class="o">=</span><span class="n">prefix</span><span class="o">+</span><span class="s1">&#39;/cellular_automata_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">iter</span><span class="p">)</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.png&#39;</span><span class="p">)</span>

<span class="k">while</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">people</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">update_strategy</span> <span class="o">==</span> <span class="s2">&quot;parallel&quot;</span><span class="p">):</span>
        <span class="n">people</span><span class="p">,</span> <span class="n">people_ij</span> <span class="o">=</span> <span class="n">parallel_update</span><span class="p">(</span><span class="n">people</span><span class="p">,</span> <span class="n">people_ij</span><span class="p">,</span> <span class="n">weight</span><span class="p">,</span>
                                            <span class="n">friction</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">update_strategy</span> <span class="o">==</span> <span class="s2">&quot;sequential&quot;</span><span class="p">):</span>
        <span class="n">people</span><span class="p">,</span> <span class="n">people_ij</span> <span class="o">=</span> <span class="n">sequential_update</span><span class="p">(</span><span class="n">people</span><span class="p">,</span> <span class="n">people_ij</span><span class="p">,</span> <span class="n">weight</span><span class="p">,</span>
                                              <span class="n">shuffle</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">,</span> <span class="n">randomstate</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bad value for update strategy... EXIT&quot;</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
    <span class="n">people</span><span class="p">,</span> <span class="n">people_ij</span> <span class="o">=</span> <span class="n">exit</span><span class="p">(</span><span class="n">dom</span><span class="p">,</span> <span class="n">people</span><span class="p">,</span> <span class="n">people_ij</span><span class="p">)</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">results</span><span class="p">,</span> <span class="n">people_ij</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">Np</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">t</span> <span class="o">+=</span> <span class="n">dt</span>
    <span class="n">cc</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="nb">iter</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;========&gt; time = &quot;</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="s2">&quot; number of persons = &quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">people</span><span class="p">))</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">cc</span> <span class="o">&gt;=</span> <span class="n">drawper</span><span class="p">):</span>
        <span class="c1"># plot_people_according_to_current_door_distance(1, people, dom,</span>
        <span class="c1">#     savefig=True,</span>
        <span class="c1">#     filename=prefix+&#39;/cellular_automata_&#39;+str(iter).zfill(6)+&#39;.png&#39;)</span>
        <span class="n">plot_people_according_to_initial_door_distance</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">people</span><span class="p">,</span> <span class="n">dom</span><span class="p">,</span>
                                                       <span class="n">results</span><span class="p">,</span> <span class="n">savefig</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                       <span class="n">filename</span><span class="o">=</span><span class="n">prefix</span><span class="o">+</span><span class="s1">&#39;/cellular_automata_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">iter</span><span class="p">)</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.png&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">pause</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
        <span class="n">cc</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># plot_people_according_to_current_door_distance(1, people, dom)</span>
<span class="c1"># plot_people_according_to_initial_door_distance(2, people, dom, results)</span>
<span class="c1"># plot_people_according_to_exit_times(3, dt, people, dom, results)</span>
<span class="n">plot_people_paths</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="n">dom</span><span class="o">.</span><span class="n">pixel_size</span><span class="p">,</span> <span class="n">people</span><span class="p">,</span> <span class="n">dom</span><span class="p">,</span> <span class="n">results</span><span class="p">,</span>
                  <span class="n">savefig</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="n">prefix</span><span class="o">+</span><span class="s1">&#39;/cellular_automata_paths.png&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</section>


        </div>
      </div>
    </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2018, Sylvain Faure, Bertrand Maury.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>